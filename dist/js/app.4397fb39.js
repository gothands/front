(()=>{var e={43782:(e,t,n)=>{"use strict";n(88674),n(17727);var a=n(49242),s=n(73396);const i=(0,s._)("div",{class:"title"}," Handsy.io ",-1),r={style:{display:"flex","justify-content":"end","align-items":"center",gap:"40px"}},o={key:3,class:"profile"};function l(e,t,n,a,l,d){const u=(0,s.up)("router-link"),p=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",null,[i,(0,s._)("div",r,[!e.isInGame&&e.loggedin?((0,s.wg)(),(0,s.j4)(u,{key:0,to:"/affiliate"},{default:(0,s.w5)((()=>[(0,s.Uk)("Affiliate")])),_:1})):(0,s.kq)("",!0),!e.isInGame&&e.loggedin?((0,s.wg)(),(0,s.j4)(u,{key:1,to:"/staking"},{default:(0,s.w5)((()=>[(0,s.Uk)("Staking")])),_:1})):(0,s.kq)("",!0),e.isInGame?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"button-light",onClick:t[0]||(t[0]=(...e)=>d.leaveGame&&d.leaveGame(...e))}," Leave ")):(0,s.kq)("",!0),e.loggedin?((0,s.wg)(),(0,s.iD)("div",o)):(0,s.kq)("",!0)])]),(0,s.Wm)(p)],64)}n(38862);var d=n(87139);const u={class:"content"},p={key:0},c=(0,s._)("p",{style:{margin:"0","margin-bottom":"6px"}},"Your balance",-1),y={style:{margin:"0","margin-bottom":"22px"}},m=(0,s._)("span",{class:"currency-symbol"},"$",-1),h={class:"decimals"},g={class:"address-container"},v={key:1},b={style:{"justify-content":"center"}},f={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr"}},w={key:0,style:{display:"flex","flex-direction":"column",gap:"35px","align-items":"center"}},T={style:{display:"flex",gap:"20px"}},k={class:"address-container"},C=(0,s._)("div",{class:"profile-mini"},null,-1),A={class:"address"},S={class:"player-balance"},M={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center"}},_={key:1,style:{display:"flex","flex-direction":"column",gap:"35px","align-items":"center"}},I={style:{display:"flex",gap:"20px"}},P={class:"address-container"},E=(0,s._)("div",{class:"profile-mini"},null,-1),R={class:"address"},x={class:"player-balance"},F={style:{display:"flex","justify-content":"center",gap:"10px"}},B=(0,s._)("p",null,"Rock",-1),W=(0,s._)("p",null,"Paper",-1),L=(0,s._)("p",null,"Scissors",-1),G={style:{display:"flex","flex-direction":"column",height:"100%","align-items":"center",gap:"35px"}},O=(0,s._)("p",null,"Your bet is",-1),D={style:{margin:"0","margin-bottom":"22px"}},H=(0,s._)("span",{class:"currency-symbol"},"$",-1),N={class:"decimals"},z={class:"flex flex-column",style:{display:"flex","flex-direction":"column",gap:"35px","align-items":"center"}},U={style:{display:"flex",gap:"20px"}},j={class:"address-container"},$=(0,s._)("div",{class:"profile-mini"},null,-1),q={class:"address"},Y={class:"player-balance"},V={key:3,class:"loading"},Z={key:4,class:"checkmark"},K={key:2,class:"content"},J={style:{display:"flex","align-items":"start"}},X=(0,s._)("div",{class:"plus-symbol"},null,-1),Q=(0,s._)("div",null,"Add Funds",-1),ee=[X,Q],te=["value"],ne=["value"],ae=(0,s._)("span",{class:"currency-symbol"},"$",-1),se=(0,s._)("span",{style:{color:"#E19885","font-weight":"bold","text-decoration":"underline"}},"Switch",-1),ie={key:1,style:{display:"flex","flex-direction":"column","align-items":"center","margin-top":"-70px"}},re=(0,s._)("p",null,"You wager is",-1),oe={style:{margin:"0"}},le=(0,s._)("span",{class:"currency-symbol"},"$",-1),de=(0,s._)("span",{class:"decimals"},".00",-1),ue=(0,s._)("p",{style:{opacity:"0.5"}},"Waiting for opponent ...",-1),pe=(0,s._)("div",{class:"searching"},null,-1);function ye(e,t,n,i,r,o){var l,X,Q,ce,ye,me,he,ge;const ve=(0,s.up)("Modal"),be=(0,s.up)("profile-item"),fe=(0,s.up)("profile-item-burner"),we=(0,s.up)("GameMove"),Te=(0,s.up)("game-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(ve,{show:r.showModal,"onUpdate:show":t[0]||(t[0]=e=>r.showModal=e),winnerPoints:r.winnerPoints,"onUpdate:winnerPoints":t[1]||(t[1]=e=>r.winnerPoints=e),loserPoints:r.loserPoints,"onUpdate:loserPoints":t[2]||(t[2]=e=>r.loserPoints=e),win:r.winModal,"onUpdate:win":t[3]||(t[3]=e=>r.winModal=e),bet:r.selectedBet,"onUpdate:bet":t[4]||(t[4]=e=>r.selectedBet=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Hello world ")])),_:1},8,["show","winnerPoints","loserPoints","win","bet"]),(0,s._)("div",u,[o.isInGame||o.isWaiting?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p,[c,(0,s._)("h1",y,[m,(0,s.Uk)(" "+(0,d.zw)(null===(l=this.balance)||void 0===l?void 0:l.toString().split(".")[0])+" ",1),(0,s._)("span",h," ."+(0,d.zw)(null!==(X=null===(Q=this.balance)||void 0===Q||null===(ce=Q.toString().split(".")[1])||void 0===ce?void 0:ce.substring(0,4))&&void 0!==X?X:"00"),1)]),(0,s._)("div",g,[(0,s.Wm)(be,{address:this.activeAccount},null,8,["address"]),(0,s.Uk)("   "),o.isBurner?((0,s.wg)(),(0,s.j4)(fe,{key:0,address:this.burnerAddress,balance:o.burnerBalance},null,8,["address","balance"])):(0,s.kq)("",!0)])])),o.isInGame?((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",b,[(0,s.Uk)(" Round "+(0,d.zw)(o.currentRound)+" for ",1),(0,s._)("a",null,(0,d.zw)(o.currentWager)+" ETH",1)]),(0,s._)("div",null,(0,d.zw)(o.roundStateString),1),(0,s._)("div",f,[o.shouldMove?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("div",T,[(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=1})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=2})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=3})},null,2)]),o.bothRevealed?((0,s.wg)(),(0,s.j4)(we,{key:0,move:r.selectedMove},null,8,["move"])):((0,s.wg)(),(0,s.j4)(we,{key:1,move:4})),(0,s._)("div",k,[C,(0,s._)("p",A,(0,d.zw)(o.truncateAddress(o.yourAddress)),1)]),(0,s._)("div",S," $"+(0,d.zw)(o.balance),1),(0,s._)("div",M,[(0,s.Wm)(we,{isNormal:!0,move:r.selectedMove},null,8,["move"]),(0,s._)("p",null,(0,d.zw)(1==r.selectedMove?"Rock":2==r.selectedMove?"Paper":"Scissors"),1)])])):((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",I,[(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=1})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=2})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.yourCurrentPoints>=3})},null,2)]),o.bothRevealed?((0,s.wg)(),(0,s.j4)(we,{key:0,move:r.selectedMove},null,8,["move"])):((0,s.wg)(),(0,s.j4)(we,{key:1,move:4})),(0,s._)("div",P,[E,(0,s._)("p",R,(0,d.zw)(o.truncateAddress(o.yourAddress)),1)]),(0,s._)("div",x," $"+(0,d.zw)(o.balance),1),(0,s._)("div",F,[(0,s._)("div",{style:(0,d.j5)([{display:"flex","flex-direction":"column",gap:"10px","align-items":"center"},{"border-color":o.isRock?"yellow":"inherit"}]),onClick:t[5]||(t[5]=(...e)=>o.onRock&&o.onRock(...e))},[(0,s.Wm)(we,{isNormal:!0,move:1}),B],4),(0,s._)("div",{style:(0,d.j5)([{display:"flex","flex-direction":"column",gap:"10px","align-items":"center"},{"border-color":o.isPaper?"yellow":"inherit"}]),onClick:t[6]||(t[6]=(...e)=>o.onPaper&&o.onPaper(...e))},[(0,s.Wm)(we,{isNormal:!0,move:2}),W],4),(0,s._)("div",{style:(0,d.j5)([{display:"flex","flex-direction":"column",gap:"10px","align-items":"center"},{"border-color":o.isScissors?"yellow":"inherit"}]),onClick:t[7]||(t[7]=(...e)=>o.onScissors&&o.onScissors(...e))},[(0,s.Wm)(we,{isNormal:!0,move:3}),L],4)])])),(0,s._)("div",G,[O,(0,s._)("h1",D,[H,(0,s.Uk)(" "+(0,d.zw)(null===(ye=this.selectedBet)||void 0===ye?void 0:ye.toString().split(".")[0])+" ",1),(0,s._)("span",N," ."+(0,d.zw)(null!==(me=null===(he=this.selectedBet)||void 0===he||null===(ge=he.toString().split(".")[1])||void 0===ge?void 0:ge.substring(0,4))&&void 0!==me?me:"00"),1)])]),(0,s._)("div",null,[(0,s._)("div",z,[(0,s._)("div",U,[(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.opponentCurrentPoints>=1})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.opponentCurrentPoints>=2})},null,2),(0,s._)("div",{class:(0,d.C_)({point:!0,"point-active":o.opponentCurrentPoints>=3})},null,2)]),o.bothRevealed?((0,s.wg)(),(0,s.j4)(we,{key:0,class:"flip",move:o.opponentMove},null,8,["move"])):o.isOpponentMoveSent?((0,s.wg)(),(0,s.j4)(we,{key:1,class:"flip",move:5})):((0,s.wg)(),(0,s.j4)(we,{key:2,class:"flip",move:4})),(0,s._)("div",j,[$,(0,s._)("p",q,(0,d.zw)(o.truncateAddress(o.opponentAddress)),1)]),(0,s._)("div",Y," $"+(0,d.zw)(o.opponentBalance),1),o.isOpponentMoveSent?((0,s.wg)(),(0,s.iD)("div",Z)):((0,s.wg)(),(0,s.iD)("div",V))])])])])):((0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("div",J,[o.isRegistering||o.isWaiting?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button-light",onClick:t[8]||(t[8]=(...t)=>e.buyEth&&e.buyEth(...t))},ee)),(0,s._)("div",null,[o.isWaiting?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button-dark",onClick:t[11]||(t[11]=(...e)=>o.registerGame&&o.registerGame(...e))},[(0,s._)("div",null,(0,d.zw)(o.isRegistering?"Registering...":r.playWithFriend?"Play With Friend":"Play with random")+"   ",1),(0,s._)("select",{class:"selector",style:{"margin-right":"-25px"},value:this.selectedBet,onInput:t[9]||(t[9]=e=>r.selectedBet=e.target.value),onClick:t[10]||(t[10]=(0,a.iM)((()=>{}),["stop"]))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.wagerSteps,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e,value:e},[ae,(0,s.Uk)(" "+(0,d.zw)(e)+"   ",1)],8,ne)))),128))],40,te)])),o.isRegistering||o.isWaiting?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",{key:1,onClick:t[12]||(t[12]=(...e)=>o.togglePlayWithFriend&&o.togglePlayWithFriend(...e)),class:"toggle-text",style:{"margin-top":"30px"}},[(0,s.Uk)((0,d.zw)(r.playWithFriend?"Play with random instead?":"Play with friend instead?")+" ",1),se]))]),o.isWaiting?((0,s.wg)(),(0,s.iD)("div",ie,[re,(0,s._)("h1",oe,[le,(0,s.Uk)((0,d.zw)(this.selectedBet)+" ",1),de]),ue,pe,(0,s._)("button",{class:"button-dark",onClick:t[13]||(t[13]=(...e)=>o.cancelGame&&o.cancelGame(...e))}," Cancel ")])):(0,s.kq)("",!0)]),o.isWaiting&&r.playWithFriend?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button-dark",onClick:t[14]||(t[14]=(...e)=>o.copyPasswordGameLink&&o.copyPasswordGameLink(...e))}," Copy game link ")):(0,s.kq)("",!0)]))]),o.isInGame?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(Te,{key:0,activeData:o.activeGames,completedData:o.completedGames,pendingData:o.pendingGames},null,8,["activeData","completedData","pendingData"]))],64)}n(2707),n(74916);const me=JSON.parse('{"dependencyContracts":{"wETH":"0x3ccA24e1A0e49654bc3482ab70199b7400eb7A3a","vault":"0xfC3c03385dA8D5Adfb8BDF5f5fe156fb5B3a6Ee2","forwarderRegistry":"0x1055780Bd25e2F698E7c9a95FBaf4cb565A23A14","master":"0x9035E63C5Ac74dE843F176BE6B9869cA2385C61d","feeRegistry":"0xF3a4d6E6581e12Dc5b0eCd6EA3d483fF09c3cAE0","feeRecipient":"0x8a7E4b12Fb1914d91A84fe66e7B0e899DE291167","feeManager":"0x4768d649Da9927a8b3842108117eC0ca7Bc6953f","classicFactory":"0x22F4D93be0E8C0C081e74c0d5e697B64eEA007FF","stableFactory":"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc","router":"0x97b985951FD3e0C1d996421CC783d46c12d00082"},"dependencyAbis":{"wETH":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}],"vault":[{"inputs":[{"internalType":"address","name":"_wETH","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ETHTransferFailed","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"inputs":[],"name":"TransferFromFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"}],"name":"FlashLoan","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldFlashLoanFeePercentage","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newFlashLoanFeePercentage","type":"uint256"}],"name":"FlashLoanFeePercentageChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"ERC3156_CALLBACK_SUCCESS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"}],"name":"deposit","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"depositETH","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"flashFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC3156FlashBorrower","name":"receiver","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"userData","type":"bytes"}],"name":"flashLoan","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"flashLoanFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"flashLoanFeeRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IFlashLoanRecipient","name":"recipient","type":"address"},{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"userData","type":"bytes"}],"name":"flashLoanMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"maxFlashLoan","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"reserves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFlashLoanFeePercentage","type":"uint256"}],"name":"setFlashLoanFeePercentage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_flashLoanFeeRecipient","type":"address"}],"name":"setFlashLoanFeeRecipient","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_status","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferAndDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"wETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint8","name":"mode","type":"uint8"}],"name":"withdrawAlternative","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}],"master":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_forwarderRegistry","type":"address"},{"internalType":"address","name":"_feeManager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"NotWhitelistedFactory","type":"error"},{"inputs":[],"name":"PoolAlreadyExists","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"factory","type":"address"},{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":true,"internalType":"uint16","name":"poolType","type":"uint16"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"RegisterPool","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"factory","type":"address"},{"indexed":false,"internalType":"bool","name":"whitelisted","type":"bool"}],"name":"SetFactoryWhitelisted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newFeeManager","type":"address"}],"name":"UpdateFeeManager","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newForwarderRegistry","type":"address"}],"name":"UpdateForwarderRegistry","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"createPool","outputs":[{"internalType":"address","name":"pool","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"forwarderRegistry","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFeeRecipient","outputs":[{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"getPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"getProtocolFee","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"getSwapFee","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isFactoryWhitelisted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"name":"isForwarder","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isPool","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"pools","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint16","name":"poolType","type":"uint16"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"registerPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"bool","name":"whitelisted","type":"bool"}],"name":"setFactoryWhitelisted","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFeeManager","type":"address"}],"name":"setFeeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newForwarderRegistry","type":"address"}],"name":"setForwarderRegistry","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"classicFactory":[{"inputs":[{"internalType":"address","name":"_master","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"InvalidTokens","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token0","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":false,"internalType":"address","name":"pool","type":"address"}],"name":"PoolCreated","type":"event"},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"name":"createPool","outputs":[{"internalType":"address","name":"pool","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getDeployData","outputs":[{"internalType":"bytes","name":"deployData","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"getPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"getSwapFee","outputs":[{"internalType":"uint24","name":"swapFee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"master","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"stableFactory":[{"inputs":[{"internalType":"address","name":"_master","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"InvalidTokens","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token0","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":false,"internalType":"address","name":"pool","type":"address"}],"name":"PoolCreated","type":"event"},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"name":"createPool","outputs":[{"internalType":"address","name":"pool","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getDeployData","outputs":[{"internalType":"bytes","name":"deployData","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"getPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"getSwapFee","outputs":[{"internalType":"uint24","name":"swapFee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"master","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"router":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_wETH","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApproveFailed","type":"error"},{"inputs":[],"name":"Expired","type":"error"},{"inputs":[],"name":"NotEnoughLiquidityMinted","type":"error"},{"inputs":[],"name":"TooLittleReceived","type":"error"},{"inputs":[],"name":"TransferFromFailed","type":"error"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct SyncSwapRouter.TokenInput[]","name":"inputs","type":"tuple[]"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minLiquidity","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct SyncSwapRouter.TokenInput[]","name":"inputs","type":"tuple[]"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minLiquidity","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"name":"addLiquidity2","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct SyncSwapRouter.TokenInput[]","name":"inputs","type":"tuple[]"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minLiquidity","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"approveAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"internalType":"struct IRouter.SplitPermitParams[]","name":"permits","type":"tuple[]"}],"name":"addLiquidityWithPermit","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct SyncSwapRouter.TokenInput[]","name":"inputs","type":"tuple[]"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minLiquidity","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"approveAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"internalType":"struct IRouter.SplitPermitParams[]","name":"permits","type":"tuple[]"}],"name":"addLiquidityWithPermit2","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"name":"burnLiquidity","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount[]","name":"amounts","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minAmount","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"name":"burnLiquiditySingle","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"amountOut","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"minAmount","type":"uint256"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"},{"components":[{"internalType":"uint256","name":"approveAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct IRouter.ArrayPermitParams","name":"permit","type":"tuple"}],"name":"burnLiquiditySingleWithPermit","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"amountOut","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256[]","name":"minAmounts","type":"uint256[]"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"},{"components":[{"internalType":"uint256","name":"approveAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct IRouter.ArrayPermitParams","name":"permit","type":"tuple"}],"name":"burnLiquidityWithPermit","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount[]","name":"amounts","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"createPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"enteredPools","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"enteredPoolsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"isPoolEntered","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"selfPermit2","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"selfPermit2IfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowed","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowedIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"stakingPool","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"onBehalf","type":"address"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"internalType":"struct IRouter.SwapStep[]","name":"steps","type":"tuple[]"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"internalType":"struct IRouter.SwapPath[]","name":"paths","type":"tuple[]"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swap","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"amountOut","type":"tuple"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"callback","type":"address"},{"internalType":"bytes","name":"callbackData","type":"bytes"}],"internalType":"struct IRouter.SwapStep[]","name":"steps","type":"tuple[]"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"internalType":"struct IRouter.SwapPath[]","name":"paths","type":"tuple[]"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"approveAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"internalType":"struct IRouter.SplitPermitParams","name":"permit","type":"tuple"}],"name":"swapWithPermit","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"amountOut","type":"tuple"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"feeManager":[{"inputs":[{"internalType":"address","name":"_feeRecipient","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint16","name":"poolType","type":"uint16"},{"indexed":false,"internalType":"uint24","name":"fee","type":"uint24"}],"name":"SetDefaultProtocolFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint16","name":"poolType","type":"uint16"},{"indexed":false,"internalType":"uint24","name":"fee","type":"uint24"}],"name":"SetDefaultSwapFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousFeeRecipient","type":"address"},{"indexed":true,"internalType":"address","name":"newFeeRecipient","type":"address"}],"name":"SetFeeRecipient","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":false,"internalType":"uint24","name":"fee","type":"uint24"}],"name":"SetPoolProtocolFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":true,"internalType":"address","name":"tokenOut","type":"address"},{"indexed":false,"internalType":"uint24","name":"fee","type":"uint24"}],"name":"SetTokenSwapFee","type":"event"},{"inputs":[{"internalType":"uint16","name":"","type":"uint16"}],"name":"defaultProtocolFee","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"","type":"uint16"}],"name":"defaultSwapFee","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFeeRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"getProtocolFee","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"getSwapFee","outputs":[{"internalType":"uint24","name":"fee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"poolProtocolFee","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"poolType","type":"uint16"},{"internalType":"uint24","name":"fee","type":"uint24"}],"name":"setDefaultProtocolFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"poolType","type":"uint16"},{"internalType":"uint24","name":"fee","type":"uint24"}],"name":"setDefaultSwapFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeRecipient","type":"address"}],"name":"setFeeRecipient","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"}],"name":"setPoolProtocolFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"}],"name":"setTokenSwapFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"tokenSwapFee","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"feeRecipient":[{"inputs":[{"internalType":"address","name":"_feeRegistry","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ETHTransferFailed","type":"error"},{"inputs":[],"name":"InvalidFeeSender","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"distributor","type":"address"}],"name":"AddFeeDistributor","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"uint16","name":"feeType","type":"uint16"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeRate","type":"uint256"}],"name":"NotifyFees","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"distributor","type":"address"}],"name":"RemoveFeeDistributor","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"epochDuration","type":"uint256"}],"name":"SetEpochDuration","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"feeRegistry","type":"address"}],"name":"SetFeeRegistry","type":"event"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"distributor","type":"address"}],"name":"addFeeDistributor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"distributeFees","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"epochDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"feeDistributors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeDistributorsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRegistry","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"feeTokenData","outputs":[{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"feeTokens","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"feeTokensLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"fees","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"ts","type":"uint256"}],"name":"getEpochStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isFeeDistributor","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"feeType","type":"uint16"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"feeRate","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"notifyFees","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"distributor","type":"address"},{"internalType":"bool","name":"updateArray","type":"bool"}],"name":"removeFeeDistributor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_epochDuration","type":"uint256"}],"name":"setEpochDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeRegistry","type":"address"}],"name":"setFeeRegistry","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawETH","outputs":[],"stateMutability":"nonpayable","type":"function"}],"feeRegistry":[{"inputs":[{"internalType":"address","name":"_master","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"bool","name":"isWhitelisted","type":"bool"}],"name":"SetSenderWhitelisted","type":"event"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"isFeeSender","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isSenderWhitelisted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"master","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"bool","name":"isWhitelisted","type":"bool"}],"name":"setSenderWhitelisted","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"forwardRegistry":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"forwarder","type":"address"}],"name":"AddForwarder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"forwarder","type":"address"}],"name":"RemoveForwarder","type":"event"},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"name":"addForwarder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"name":"isForwarder","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"name":"removeForwarder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"classicPool":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"Expired","type":"error"},{"inputs":[],"name":"InsufficientLiquidityMinted","type":"error"},{"inputs":[],"name":"InvalidSignature","type":"error"},{"inputs":[],"name":"Overflow","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"liquidity","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount0Out","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1Out","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"reserve0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"reserve1","type":"uint256"}],"name":"Sync","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_callback","type":"address"},{"internalType":"bytes","name":"_callbackData","type":"bytes"}],"name":"burn","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount[]","name":"_amounts","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_callback","type":"address"},{"internalType":"bytes","name":"_callbackData","type":"bytes"}],"name":"burnSingle","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"_tokenAmount","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"uint256","name":"_amountOut","type":"uint256"},{"internalType":"address","name":"_sender","type":"address"}],"name":"getAmountIn","outputs":[{"internalType":"uint256","name":"_amountIn","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenIn","type":"address"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"address","name":"_sender","type":"address"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"_amountOut","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAssets","outputs":[{"internalType":"address[]","name":"assets","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getProtocolFee","outputs":[{"internalType":"uint24","name":"_protocolFee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReserves","outputs":[{"internalType":"uint256","name":"_reserve0","type":"uint256"},{"internalType":"uint256","name":"_reserve1","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_tokenIn","type":"address"},{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"getSwapFee","outputs":[{"internalType":"uint24","name":"_swapFee","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"invariantLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"master","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_callback","type":"address"},{"internalType":"bytes","name":"_callbackData","type":"bytes"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint8","name":"_v","type":"uint8"},{"internalType":"bytes32","name":"_r","type":"bytes32"},{"internalType":"bytes32","name":"_s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_spender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"permit2","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"poolType","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reserve0","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reserve1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_callback","type":"address"},{"internalType":"bytes","name":"_callbackData","type":"bytes"}],"name":"swap","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct IPool.TokenAmount","name":"_tokenAmount","type":"tuple"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token0","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token1","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]},"deployedContracts":{"HandsToken":"0x343C0a3f355E0C9786a60caA2B5a3B243731D353","Bank":"0x53fb3c7F1690b5b809D1D8d71509f89BFD8548Ec","Staking":"0xE77C1aA51127896adaaDD2C2FDeE09F140cC415f","Hands":"0x9294C4aB1459741dabb7de441C9EdB2554f2d2e8","Affiliate":"0x3386Df33e310167835477DEE9f70d4884Be37f2C"},"deployedAbis":{"HandsToken":[{"inputs":[{"internalType":"address","name":"_premintReceiver","type":"address"},{"internalType":"uint256","name":"_premintAmount","type":"uint256"},{"internalType":"uint256","name":"_cap","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"SUPPLY_CAP","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"status","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"Bank":[{"inputs":[{"internalType":"address","name":"_affiliateContract","type":"address"},{"internalType":"address","name":"_stakingContract","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"contributor1","type":"address"},{"indexed":true,"internalType":"address","name":"contributor2","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"blockNumber","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"affiliateAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"stakerAmount","type":"uint256"}],"name":"FundsReceived","type":"event"},{"inputs":[{"internalType":"uint256","name":"startBlock","type":"uint256"},{"internalType":"uint256","name":"endBlock","type":"uint256"}],"name":"getReceivedFundsInPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"contributor1","type":"address"},{"internalType":"address","name":"contributor2","type":"address"}],"name":"receiveFunds","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}],"Staking":[{"inputs":[{"internalType":"address","name":"_handsTokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ReceivedFundsForStaking","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Unstaked","type":"event"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"addReceivedFundsForStaking","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"bankContract","outputs":[{"internalType":"contract Bank","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cumulativeRewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReceivedFundsForStaking","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_bankContractAddress","type":"address"}],"name":"setBankContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"stakerAddress","type":"address"}],"name":"stakedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakers","outputs":[{"internalType":"uint256","name":"stakedAmount","type":"uint256"},{"internalType":"uint256","name":"lastCumulativeRewardRate","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"stakerAddress","type":"address"}],"name":"updateRewardsFor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"stakerAddress","type":"address"}],"name":"viewClaimableRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"viewTotalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"Hands":[{"inputs":[{"internalType":"address","name":"_bankContractAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"enum Hands.Outcomes","name":"outcome","type":"uint8"}],"name":"GameOutcome","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"round","type":"uint256"}],"name":"MoveCommitted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerAddress","type":"address"},{"indexed":false,"internalType":"enum Hands.Moves","name":"move","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"round","type":"uint256"}],"name":"MoveRevealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"round","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"pointsA","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"pointsB","type":"uint256"}],"name":"NewRound","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerAddress","type":"address"}],"name":"PlayerCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"round","type":"uint256"}],"name":"PlayerLeft","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerAddress","type":"address"}],"name":"PlayerRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"bet","type":"uint256"}],"name":"PlayerWaiting","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":true,"internalType":"address","name":"playerA","type":"address"},{"indexed":true,"internalType":"address","name":"playerB","type":"address"}],"name":"PlayersMatched","type":"event"},{"inputs":[],"name":"BET_MIN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"COMMIT_TIMEOUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"FEE_PERCENTAGE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_POINTS_PER_ROUND","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REVEAL_TIMEOUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"gameId","type":"uint256"}],"name":"cancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"gameId","type":"uint256"},{"internalType":"bytes32","name":"encrMove","type":"bytes32"}],"name":"commit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"passwordHash","type":"bytes32"}],"name":"createPasswordMatch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"burner","type":"address"},{"internalType":"uint256","name":"betAmount","type":"uint256"},{"internalType":"bytes32","name":"passwordHash","type":"bytes32"}],"name":"createPasswordMatchWithBurner","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"fundBurner","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"getBurner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_burner","type":"address"}],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"password","type":"string"}],"name":"joinPasswordMatch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"burner","type":"address"},{"internalType":"uint256","name":"betAmount","type":"uint256"},{"internalType":"string","name":"password","type":"string"}],"name":"joinPasswordMatchWithBurner","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"gameId","type":"uint256"}],"name":"leave","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"playerGame","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"register","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"burner","type":"address"},{"internalType":"uint256","name":"betAmount","type":"uint256"}],"name":"registerWithBurner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"gameId","type":"uint256"},{"internalType":"string","name":"clearMove","type":"string"}],"name":"reveal","outputs":[{"internalType":"enum Hands.Moves","name":"","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_burner","type":"address"}],"name":"setBurner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"waitingPlayers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"Affiliate":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"consumer","type":"address"},{"indexed":true,"internalType":"address","name":"affiliate","type":"address"}],"name":"ConsumerRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"affiliate","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"affiliate","type":"address"},{"indexed":true,"internalType":"address","name":"consumer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardRecieved","type":"event"},{"inputs":[],"name":"MAX_FEE_SHARE_PER_AFFILIATE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"affiliates","outputs":[{"internalType":"uint256","name":"receivedFunds","type":"uint256"},{"internalType":"uint256","name":"lastClaimedBlock","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bankContract","outputs":[{"internalType":"contract Bank","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliate","type":"address"},{"internalType":"address","name":"consumer","type":"address"},{"internalType":"uint256","name":"totalAmount","type":"uint256"}],"name":"calculateAndAddAffiliateShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"consumer","type":"address"}],"name":"getAffiliateOfConsumer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliate","type":"address"}],"name":"getConsumersOfAffiliate","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliate","type":"address"},{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getReceivedFundsForAffiliateInBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliate","type":"address"},{"internalType":"uint256","name":"startBlock","type":"uint256"},{"internalType":"uint256","name":"endBlock","type":"uint256"}],"name":"getReceivedFundsForAffiliateInPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliate","type":"address"}],"name":"registerAsConsumer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_bankContract","type":"address"}],"name":"setBankContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalReceived","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"affiliateAddress","type":"address"}],"name":"viewClaimableRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]}}');var he=n(82482),ge=n(21832),ve=n.n(ge),be=n(15941);class fe{constructor(e){(0,he.Z)(this,"provider",void 0),this.provider=e}async getChainId(){try{const e=new(ve())(this.provider),t=await e.eth.getChainId();return t.toString()}catch(e){return e}}async getAccounts(){try{const e=new(ve())(this.provider),t=await e.eth.getAccounts();return t}catch(e){return e}}async getBalance(){try{const e=new(ve())(this.provider),t=(await e.eth.getAccounts())[0],n=e.utils.fromWei(await e.eth.getBalance(t));return n}catch(e){return e}}async getBalanceOf(e){try{be.log("getting balance of",e),be.log("getting balance of with provider",this.provider);const t=new(ve())(this.provider),n=t.utils.fromWei(await t.eth.getBalance(e));return n}catch(t){return be.log("error getting balance of",t),"0"}}async sendTransaction(){try{const e=new(ve())(this.provider),t=(await e.eth.getAccounts())[0],n=t,a=e.utils.toWei("0.001"),s=await e.eth.sendTransaction({from:t,to:n,value:a,maxPriorityFeePerGas:"5000000",maxFeePerGas:"6000000"});return s}catch(e){return e}}async signMessage(){try{const e=new(ve())(this.provider),t=(await e.eth.getAccounts())[0],n="YOUR_MESSAGE",a=await e.eth.personal.sign(n,t,"test password!");return a}catch(e){return e}}async getPrivateKey(){try{const e=await this.provider.request({method:"eth_private_key"});return e}catch(e){return e}}}var we=n(44870);const Te={None:0,Rock:1,Paper:2,Scissors:3,LoadingMark:4,CheckMark:5},ke={None:0,PlayerA:1,PlayerB:2,Draw:3,Cancelled:4},Ce={Initial:0,Registering:1,Waiting:2,Matched:3,Sending:4,Sent:5,Revealing:6,Revealed:7,Finished:8},Ae='\n<svg fill="#000000" width="100%" height="100%" viewBox="0 0 256 256" id="Flat" xmlns="http://www.w3.org/2000/svg">\n  <path d="M200,76H188V64a35.9767,35.9767,0,0,0-60-26.804A35.96779,35.96779,0,0,0,69.26855,54.54492,35.97777,35.97777,0,0,0,20,88v40a108,108,0,0,0,216,0V112A36.04061,36.04061,0,0,0,200,76ZM152,52a12.01343,12.01343,0,0,1,12,12V76H140V64A12.01343,12.01343,0,0,1,152,52ZM92,64a12,12,0,0,1,24,0v40a12,12,0,0,1-24,0V64ZM44,88a12,12,0,0,1,24,0v16a12,12,0,0,1-24,0Zm168,40A84.003,84.003,0,0,1,44.61035,138.15381,35.95752,35.95752,0,0,0,80,130.804a35.90058,35.90058,0,0,0,43.6499,3.33715,36.31106,36.31106,0,0,0,6.3833,6.36231A51.8053,51.8053,0,0,0,116,176a12,12,0,0,0,24,0,28.03146,28.03146,0,0,1,28-28,12,12,0,0,0,0-24H152a12.01343,12.01343,0,0,1-12-12V100h60a12.01343,12.01343,0,0,1,12,12Z"/>\n</svg>',Se='\n<svg fill="#000000" width="100%" height="100%" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><path d="M 25.1289 53.5117 C 33.3789 53.5117 39.1680 49.0352 42.2851 40.2461 L 46.4102 28.6445 C 47.4414 25.7149 46.5039 23.3008 44.0664 22.4102 C 41.8867 21.6133 39.7305 22.5508 38.6992 24.9649 L 37.1758 28.7149 C 37.1289 28.8086 37.0586 28.8789 36.9649 28.8789 C 36.8476 28.8789 36.8008 28.7852 36.8008 28.6680 L 36.8008 9.8711 C 36.8008 7.1289 35.0898 5.4180 32.4649 5.4180 C 31.5039 5.4180 30.6367 5.7461 29.9805 6.3555 C 29.6758 3.9649 28.1289 2.4883 25.8086 2.4883 C 23.5351 2.4883 21.9414 4.0117 21.5898 6.3086 C 21.0039 5.7227 20.1602 5.4180 19.3164 5.4180 C 16.8789 5.4180 15.2617 7.1055 15.2617 9.7071 L 15.2617 12.3086 C 14.6289 11.6524 13.6914 11.3008 12.6836 11.3008 C 10.2461 11.3008 8.5586 13.1055 8.5586 15.7305 L 8.5586 35.8633 C 8.5586 46.8320 15.2149 53.5117 25.1289 53.5117 Z M 25.0117 50.2539 C 16.7149 50.2539 11.6524 44.9336 11.6524 35.4883 L 11.6524 16.0586 C 11.6524 15.0742 12.2851 14.3711 13.2695 14.3711 C 14.2305 14.3711 14.9336 15.0742 14.9336 16.0586 L 14.9336 28.0352 C 14.9336 28.9024 15.6367 29.4883 16.3867 29.4883 C 17.1836 29.4883 17.9102 28.9024 17.9102 28.0352 L 17.9102 10.1289 C 17.9102 9.1211 18.5430 8.4414 19.5039 8.4414 C 20.4883 8.4414 21.1680 9.1211 21.1680 10.1289 L 21.1680 26.8398 C 21.1680 27.7071 21.8711 28.2930 22.6445 28.2930 C 23.4414 28.2930 24.1680 27.7071 24.1680 26.8398 L 24.1680 7.2227 C 24.1680 6.2383 24.8242 5.5117 25.8086 5.5117 C 26.7461 5.5117 27.4258 6.2383 27.4258 7.2227 L 27.4258 26.8398 C 27.4258 27.6602 28.0820 28.2930 28.9024 28.2930 C 29.6992 28.2930 30.4024 27.6602 30.4024 26.8398 L 30.4024 10.1289 C 30.4024 9.1211 31.0820 8.4414 32.0430 8.4414 C 33.0273 8.4414 33.6836 9.1211 33.6836 10.1289 L 33.6836 33.1914 C 33.6836 34.2695 34.3633 35.0430 35.3476 35.0430 C 36.1914 35.0430 36.8945 34.6680 37.4336 33.4961 L 40.6211 26.3711 C 41.0430 25.3633 41.8867 24.8476 42.7539 25.1758 C 43.6914 25.5508 44.0195 26.4414 43.5742 27.6602 L 39.4258 39.2383 C 36.5664 47.2305 31.5508 50.2539 25.0117 50.2539 Z"/></svg>\n',Me='\n<svg fill="#000000" width="100%" height="100%" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M 15 2 C 13.355469 2 12 3.355469 12 5 L 12 6.53125 L 11.875 6.125 C 11.398438 4.550781 9.699219 3.648438 8.125 4.125 C 6.550781 4.601563 5.648438 6.300781 6.125 7.875 L 8.71875 16.3125 C 8.53125 16.386719 8.328125 16.472656 8.125 16.59375 C 7.289063 17.09375 6.34375 18.105469 6.0625 19.71875 C 5.851563 20.914063 6.082031 21.964844 6.25 22.53125 C 6.25 22.542969 6.25 22.550781 6.25 22.5625 L 7.03125 25.0625 C 7.933594 27.996094 10.652344 30 13.71875 30 L 19 30 C 22.855469 30 26 26.855469 26 23 L 26 13.09375 C 26 13.050781 26 13.011719 26 12.96875 C 26 12.949219 26 12.925781 26 12.90625 C 26 12.894531 26 12.886719 26 12.875 C 25.992188 12.84375 25.980469 12.8125 25.96875 12.78125 C 25.878906 11.679688 25.210938 10.652344 24.125 10.21875 C 23.371094 9.917969 22.578125 9.960938 21.875 10.25 C 21.550781 9.636719 21.027344 9.117188 20.34375 8.84375 C 19.558594 8.53125 18.722656 8.582031 18 8.90625 L 18 5 C 18 3.355469 16.644531 2 15 2 Z M 15 4 C 15.566406 4 16 4.433594 16 5 L 16 11.59375 L 14.96875 14.21875 C 14.820313 14.589844 14.75 14.992188 14.75 15.375 L 10.65625 15.90625 L 8.0625 7.28125 C 7.898438 6.742188 8.179688 6.195313 8.71875 6.03125 C 9.257813 5.867188 9.804688 6.179688 9.96875 6.71875 L 12.03125 13.5625 L 13.15625 13.21875 L 14 13.21875 L 14 5 C 14 4.433594 14.433594 4 15 4 Z M 19.1875 10.625 C 19.316406 10.621094 19.464844 10.636719 19.59375 10.6875 C 20.117188 10.898438 20.367188 11.476563 20.15625 12 L 19.09375 14.65625 L 19.09375 14.6875 L 18.6875 15.71875 C 18.667969 15.773438 18.621094 15.796875 18.59375 15.84375 C 18.085938 15.449219 17.445313 15.195313 16.78125 15.1875 C 16.792969 15.113281 16.78125 15.042969 16.8125 14.96875 L 18.3125 11.25 C 18.46875 10.855469 18.800781 10.632813 19.1875 10.625 Z M 22.96875 12 C 23.101563 12 23.242188 12.011719 23.375 12.0625 C 23.769531 12.21875 23.992188 12.574219 24 12.96875 C 24 12.980469 24 12.988281 24 13 C 24 13.121094 23.984375 13.253906 23.9375 13.375 L 22.8125 16.15625 C 22.601563 16.679688 22.023438 16.929688 21.5 16.71875 C 20.976563 16.507813 20.757813 15.929688 20.96875 15.40625 L 22.03125 12.75 C 22.046875 12.710938 22.046875 12.664063 22.0625 12.625 C 22.167969 12.363281 22.359375 12.164063 22.59375 12.0625 C 22.710938 12.011719 22.835938 12 22.96875 12 Z M 16.5 17.15625 C 17.027344 17.03125 17.53125 17.347656 17.65625 17.875 C 17.734375 18.199219 17.691406 18.363281 17.59375 18.53125 C 17.496094 18.699219 17.289063 18.90625 16.84375 19.0625 L 12 20.3125 C 11.703125 20.390625 11.460938 20.601563 11.339844 20.878906 C 11.21875 21.160156 11.230469 21.480469 11.375 21.75 L 12.28125 23.40625 C 12.546875 23.890625 13.15625 24.066406 13.640625 23.796875 C 14.125 23.53125 14.300781 22.921875 14.03125 22.4375 L 13.75 21.9375 L 17.4375 20.96875 C 17.46875 20.960938 17.5 20.949219 17.53125 20.9375 C 18.304688 20.667969 18.925781 20.207031 19.3125 19.5625 C 19.628906 19.035156 19.75 18.421875 19.6875 17.8125 C 19.980469 18.128906 20.355469 18.390625 20.78125 18.5625 C 21.925781 19.019531 23.183594 18.730469 24 17.90625 L 24 23 C 24 25.773438 21.773438 28 19 28 L 13.71875 28 C 11.519531 28 9.585938 26.570313 8.9375 24.46875 L 8.1875 21.96875 C 8.105469 21.699219 7.941406 20.753906 8.0625 20.0625 C 8.25 18.988281 8.71875 18.574219 9.15625 18.3125 C 9.59375 18.050781 9.90625 18.03125 9.90625 18.03125 C 9.925781 18.03125 9.949219 18.03125 9.96875 18.03125 L 16.40625 17.1875 C 16.4375 17.179688 16.46875 17.167969 16.5 17.15625 Z"/></svg>\n';var _e=n(15941);const Ie={data(){return{Rock:Ae,Paper:Se,Scissors:Me}},props:{move:Number,isSmall:{default:!1},isNormal:{default:!1}},created(){_e.log(this.move)}},Pe=Object.assign(Ie,{__name:"GameMove",setup(e){return(t,n)=>e.move==(0,we.SU)(Te).Rock?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,d.C_)([e.isSmall?"small":e.isNormal?"normal":"large","Rock"])},null,2)):e.move==(0,we.SU)(Te).Paper?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,d.C_)([e.isSmall?"small":e.isNormal?"normal":"large","Paper"])},null,2)):e.move==(0,we.SU)(Te).Scissors?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,d.C_)([e.isSmall?"small":e.isNormal?"normal":"large","Scissors"])},null,2)):e.move==(0,we.SU)(Te).LoadingMark?((0,s.wg)(),(0,s.iD)("div",{key:3,class:(0,d.C_)([e.isSmall?"small":e.isNormal?"normal":"large","Rock"])},null,2)):e.move==(0,we.SU)(Te).CheckMark?((0,s.wg)(),(0,s.iD)("div",{key:4,class:(0,d.C_)([e.isSmall?"small":e.isNormal?"normal":"large","Rock"])},null,2)):(0,s.kq)("",!0)}}),Ee=Pe,Re=Ee,xe=e=>((0,s.dD)("data-v-14241507"),e=e(),(0,s.Cn)(),e),Fe={style:{margin:"120px 80px"}},Be=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"star-symbol-table"}),(0,s._)("p",null,"Score")])],-1))),We=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"clock-symbol-table"}),(0,s._)("p",null,"Time")])],-1))),Le=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user1-symbol-table"}),(0,s._)("p",null,"Player 1")])],-1))),Ge=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user2-symbol-table"}),(0,s._)("p",null,"Player 2")])],-1))),Oe=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"prize-symbol-table"}),(0,s._)("p",null,"Prize")])],-1))),De=xe((()=>(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"rounds-symbol-table"}),(0,s._)("p",null,"Rounds")])],-1))),He={class:"tabs-container"},Ne={class:"tabs"},ze=["onClick"],Ue={class:"score"},je={class:"time"},$e={class:"player"},qe={class:"player"},Ye={class:"prize"},Ve={class:"round",colspan:"2"},Ze={class:"rounds-container"};function Ke(e,t,n,a,i,r){const o=(0,s.up)("profile-item"),l=(0,s.up)("game-move");return(0,s.wg)(),(0,s.iD)("div",Fe,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[Be,We,Le,Ge,Oe,De,(0,s._)("th",null,[(0,s._)("div",He,[(0,s._)("div",Ne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tabs,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,onClick:t=>i.selectedTab=e,class:(0,d.C_)({active:i.selectedTab===e})},(0,d.zw)(e),11,ze)))),128))])])])])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.selectedData,((e,t)=>{var n;return(0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Ue,(0,d.zw)(e.points[e.playerA])+" : "+(0,d.zw)(null!==(n=e.points[e.playerB])&&void 0!==n?n:0),1),(0,s._)("td",je,(0,d.zw)(e.time),1),(0,s._)("td",$e,[(0,s.Wm)(o,{address:e.playerA},null,8,["address"])]),(0,s._)("td",qe,[(0,s.Wm)(o,{address:e.playerB},null,8,["address"])]),(0,s._)("td",Ye,"$"+(0,d.zw)(e.bet),1),(0,s._)("td",Ve,[(0,s._)("ul",Ze,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.moves,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:n,class:"rounds-list"},[(0,s.Wm)(l,{isSmall:!0,move:t[e.playerA]},null,8,["move"]),(0,s.Uk)(" : "),(0,s.Wm)(l,{isSmall:!0,move:t[e.playerB]},null,8,["move"])])))),128))])])])})),128))])])])}const Je=(0,s._)("div",{class:"profile-mini"},null,-1);function Xe(e,t,n,a,i,r){const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{class:"player-item",to:"/profile/"+n.address},{default:(0,s.w5)((()=>[Je,(0,s._)("p",null,(0,d.zw)(r.truncateAddress(n.address)),1)])),_:1},8,["to"])])}const Qe={props:{address:{type:String,required:!0}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}};var et=n(40089);const tt=(0,et.Z)(Qe,[["render",Xe]]),nt=tt;var at=n(15941);const st={components:{GameMove:Re,ProfileItem:nt},data(){return{tabs:["Completed","Active","Pending"],selectedTab:"Completed"}},props:{activeData:{type:Array,default:()=>Array(10).fill({score:"Score",time:(new Date).toLocaleString(),player1:"Player 1",player2:"Player 2",prize:"Prize",rounds:["Round 1","Round 2"]})},completedData:{type:Array,default:()=>Array(10).fill({score:"Score",time:(new Date).toLocaleString(),player1:"Player 1",player2:"Player 2",prize:"Completed",rounds:["Round 1","Round 2"]})},pendingData:{type:Array,default:()=>Array(10).fill({score:"Score",time:(new Date).toLocaleString(),player1:"Player 1",player2:"Player 2",prize:"Pending",rounds:["Round 1","Round 2"]})}},computed:{selectedData(){switch(at.log("selected tab",this.selectedTab),this.selectedTab){case"Active":return at.log("active data",this.activeData),this.activeData;case"Completed":return at.log("completed data",this.completedData),this.completedData;case"Pending":return at.log("pending data",this.pendingData),this.pendingData;default:return[]}}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}},it=(0,et.Z)(st,[["render",Ke],["__scopeId","data-v-14241507"]]),rt=it,ot={key:0,class:"modal-container"},lt={class:"modal"},dt={key:0,class:"trophy"},ut={key:1},pt={style:{color:"#E19885","font-weight":"bold"}},ct={key:2,style:{"margin-top":"60px"}},yt={style:{color:"#E19885","font-weight":"bold"}},mt={key:3,style:{margin:"0","margin-bottom":"24px",padding:"0"}},ht={style:{color:"#E19885"}},gt={key:4,style:{margin:"0","margin-bottom":"24px",padding:"0"}},vt={style:{color:"#E19885"}},bt={class:"modal-button-holder"};function ft(e,t,n,i,r,o){return(0,s.wg)(),(0,s.j4)(a.uT,{name:"fade"},{default:(0,s.w5)((()=>[n.show?((0,s.wg)(),(0,s.iD)("div",ot,[(0,s._)("div",lt,[n.win?((0,s.wg)(),(0,s.iD)("div",dt)):(0,s.kq)("",!0),n.win?((0,s.wg)(),(0,s.iD)("h4",ut,[(0,s.Uk)("You won! "),(0,s._)("span",pt,"$ "+(0,d.zw)(n.bet),1)])):((0,s.wg)(),(0,s.iD)("h4",ct,[(0,s.Uk)("You lose! "),(0,s._)("span",yt,"$ "+(0,d.zw)(n.bet),1)])),n.win?((0,s.wg)(),(0,s.iD)("h1",mt,[(0,s._)("span",ht,(0,d.zw)(n.winnerPoints),1),(0,s.Uk)(" : "+(0,d.zw)(n.loserPoints),1)])):((0,s.wg)(),(0,s.iD)("h1",gt,[(0,s._)("span",vt,(0,d.zw)(n.loserPoints),1),(0,s.Uk)(" : "+(0,d.zw)(n.winnerPoints),1)])),(0,s._)("div",bt,[(0,s._)("button",{class:"button-light",onClick:t[0]||(t[0]=(...e)=>o.toggleShow&&o.toggleShow(...e))}," Homepage "),(0,s._)("button",{class:"button-dark",onClick:t[1]||(t[1]=(...e)=>o.toggleShow&&o.toggleShow(...e))}," Close ")])])])):(0,s.kq)("",!0)])),_:1})}var wt=n(15941);const Tt={model:{prop:"show",event:"update:show"},props:{show:{type:Boolean,default:!1},win:{type:Boolean,default:!0},winnerPoints:{type:Number,default:0},loserPoints:{type:Number,default:0},bet:{type:Number,default:0}},methods:{toggleShow(){this.$emit("update:show",!this.show)}},created(){wt.log(this.move)}},kt=(0,et.Z)(Tt,[["render",ft],["__scopeId","data-v-53414df8"]]),Ct=kt;var At=n(68451),St=n(30066),Mt=n(57138),_t=n(20065),It=n(15941);const Pt=(0,_t.MT)({state(){let e={},t=localStorage.getItem("games");return t&&(e=JSON.parse(t)),{loggedin:!1,loading:!1,loginButtonStatus:"",connecting:!1,activeAccount:"",balance:"0",balances:{},provider:null,web3auth:null,isMetamask:!1,games:e,isInGame:!1,leaveGame:()=>{It.log("leaveGame not set")},stakeContract:null,handsTokenContract:null}},getters:{balance:e=>t=>e.balances[t]||"0"},mutations:{setLoggedIn(e,t){e.loggedin=t},setLoading(e,t){e.loading=t},setLoginButtonStatus(e,t){e.loginButtonStatus=t},setConnecting(e,t){e.connecting=t},setActiveAccount(e,t){e.activeAccount=t},setBalance(e,t){e.balance=t},setBalances(e,t){e.balances=t},setProvider(e,t){e.provider=t},setWeb3Auth(e,t){e.web3auth=t},setIsMetamask(e,t){e.isMetamask=t},setGames(e,t){e.games=t,localStorage.setItem("games",JSON.stringify(e.games))},setIsInGame(e,t){e.isInGame=t},setLeaveGame(e,t){e.leaveGame=t},setHandsTokenContract(e,t){e.handsTokenContract=t},setStakeContract(e,t){e.stakeContract=t}},actions:{setLoggedIn({commit:e},t){e("setLoggedIn",t)},setLoading({commit:e},t){e("setLoading",t)},setLoginButtonStatus({commit:e},t){e("setLoginButtonStatus",t)},setConnecting({commit:e},t){e("setConnecting",t)},setActiveAccount({commit:e},t){e("setActiveAccount",t)},setBalance({commit:e},t){e("setBalance",t)},setProvider({commit:e},t){e("setProvider",t),It.log("setProvider",t)},setWeb3Auth({commit:e},t){e("setWeb3Auth",t)},setIsMetamask({commit:e},t){e("setIsMetamask",t)},async setBalanceOf({commit:e,state:t},n){const a=new fe(t.provider),s=await a.getBalanceOf(n);let i={...t.balances};i[n.toLowerCase()]=s,It.log("balances",i),e("setBalances",i)},async login({commit:e,state:t}){if(!t.web3auth)return;const n=await t.web3auth.connect();e("setProvider",n),e("setLoggedIn",!0)},setGames({commit:e},t){e("setGames",t)},setIsInGame({commit:e},t){e("setIsInGame",t)},setLeaveGame({commit:e},t){e("setLeaveGame",t)},setStakeContract({commit:e},t){e("setStakeContract",t)},setHandsTokenContract({commit:e},t){e("setHandsTokenContract",t)},async stake({commit:e,state:t},n){try{const e=new(ve())(t.provider),a=e.utils.toWei("0.1","gwei"),s=3e7,i=(await t.handsTokenContract.methods.approve(me.deployedContracts.Staking,e.utils.toWei(n,"ether")).send({from:t.activeAccount,gasPrice:a,gasLimit:s}),await t.stakeContract.methods.stake(e.utils.toWei(n,"ether")).send({from:t.activeAccount,gasPrice:a,gasLimit:s}));return await e.eth.getTransactionReceipt(i.transactionHash),It.log("Staked",i),i}catch(a){return It.error("Error staking. Message:",a),a&&It.error("Error reason:",a),It.error("Error stack trace:",a),a}},async unstake({commit:e,state:t},n){try{const e=new(ve())(t.provider),a=e.utils.toWei("0.1","gwei"),s=3e7,i=await t.stakeContract.methods.unstake(e.utils.toWei(n,"ether")).send({from:t.activeAccount,gasPrice:a,gasLimit:s});return await e.eth.getTransactionReceipt(i.transactionHash),It.log("Unstaked",i),i}catch(a){return It.error("Error unstaking. Message:",a),a&&It.error("Error reason:",a),It.error("Error stack trace:",a),a}}},modules:{}});n(21703);var Et=n(45262),Rt=n(36482),xt=n(43811),Ft=n(68367),Bt=n(15941);function Wt(e){return/^0x[0-9a-f]*$/i.test(e)}function Lt(){const e=Et.O(32);return Rt.Dv(e)}function Gt(e){const t=new xt.w5(e);return t.address}function Ot(e,t){if(!Wt(e))throw Bt.error("Private key found in cache is not valid hex",{privateKey:e,cacheKey:t}),new Error(`Private key found in cache (${t}) is not valid hex`);Gt(e)}function Dt(e="handsy:burnerWallet"){const t=localStorage.getItem(e);null!=t&&Ot(t,e);const n=null!=t?new Ft.X(t):(()=>{const t=Lt();return Bt.log("New burner wallet created:",Gt(t)),localStorage.setItem(e,t),new Ft.X(t)})();return window.addEventListener("storage",(function t(a){n.closed?window.removeEventListener("storage",t):a.key===e&&a.storageArea===localStorage&&(a.newValue?(Ot(a.newValue,e),n.next(a.newValue)):Bt.warn("Burner wallet removed from cache! You may need to reload to create a new wallet."))})),n}const Ht=["to"],Nt=(0,s._)("div",{class:"burner-icon"},null,-1),zt={class:"burner-address"},Ut={class:"burner-funds"};function jt(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:"burner-item",to:"/profile/"+n.address},[Nt,(0,s._)("p",zt,(0,d.zw)(r.truncateAddress(n.address)),1),(0,s._)("p",Ut,(0,d.zw)(n.balance)+"ETH",1)],8,Ht)])}const $t={props:{address:{type:String,required:!0},balance:{type:String,required:!0}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}},qt=(0,et.Z)($t,[["render",jt]]),Yt=qt;var Vt=n(15941);function Zt(e){return e==Ce.Waiting?"Waiting":e==Ce.Sending?"Sending move":e==Ce.Revealing?"Revealing move":e==Ce.Revealed?"Revealed move":e==Ce.Matched?"Matched with opponent":e==Ce.Initial?"":e==Ce.Finished?"Game complete":""}const Kt=me.deployedContracts.Hands,Jt=me.deployedAbis.Hands;function Xt(){return Math.random().toString(36).substring(2,15)}function Qt(e,t){return e==t?ke.Draw:e==Te.Rock?t==Te.Paper?ke.PlayerB:ke.PlayerA:e==Te.Paper?t==Te.Scissors?ke.PlayerB:ke.PlayerA:e==Te.Scissors?t==Te.Rock?ke.PlayerB:ke.PlayerA:void 0}const en={components:{GameMove:Re,GameList:rt,Modal:Ct,ProfileItem:nt,ProfileItemBurner:Yt},props:{provider:{type:String,default:null},balance:{type:Number,default:null}},data(){return{stripeClientSecret:null,initialized:!1,games:{},lastBlockSearched:0,selectedMove:"",selectedBet:"",randomString:"",contractInstance:null,pastGames:[],playerRegisteredEvents:[],playerWaitingEvents:[],playersMatchedEvents:[],moveCommittedEvents:[],moveRevealedEvents:[],newRoundEvents:[],gameOutcomeEvents:[],playerCancelledEvents:[],wagerSteps:["0.01","0.1","1","5","10"],sliderIndex:0,_lastGameId:-1,activeAccount:null,rampSdk:null,affiliateContract:null,affiliateOfUser:null,playWithFriend:null,showModal:!1,winnerPoints:0,loserPoints:0,winModal:!1,handledEventIds:new Set,burnerTopUpAmount:.001,burnerAddress:null,burnerPrivateKey:null,burnerContractInstance:null}},computed:{isMetamask(){return this.$store.state.isMetamask},isBurner(){return null!=this.burnerAddress&&null!=this.burnerPrivateKey&&null!=this.burnerContractInstance},getActiveAccount(){var e;return null===(e=this.activeAccount)||void 0===e?void 0:e.toLowerCase()},getWeb3(){return new(ve())(this.provider)},balance(){const e=this.$store.state.balance;return(Math.round(100*e)/100).toFixed(2)},opponentBalance(){const e=this.$store.state.balances[this.opponentAddress.toLowerCase()];return(Math.round(100*e)/100).toFixed(2)},burnerBalance(){var e;const t=this.$store.state.balances[null===(e=this.burnerAddress)||void 0===e?void 0:e.toLowerCase()];return(Math.round(100*t)/100).toFixed(2)},isRock(){return this.selectedMove===Te.Rock},isPaper(){return this.selectedMove===Te.Paper},isScissors(){return this.selectedMove===Te.Scissors},gameState(){var e,t,n,a,s;if(Vt.log("gameState",this.currentGameId,this.games),!this.games[null!==(e=this.currentGameId)&&void 0!==e?e:"0"])return Ce.Initial;if(this.games[null!==(t=this.currentGameId)&&void 0!==t?t:"0"].outcome!=ke.None)return Ce.Initial;const i=this.games[null!==(n=this.currentGameId)&&void 0!==n?n:"0"].round;return null!==(a=this.games[null!==(s=this.currentGameId)&&void 0!==s?s:"0"].states[i][this.getActiveAccount])&&void 0!==a?a:Ce.Matched},yourGameStateToString(){switch(this.gameState){case Ce.Initial:return"Initial";case Ce.Waiting:return"Waiting for opponent";case Ce.Sending:return"Sending move";case Ce.Sent:return"Sent move";case Ce.Revealing:return"Revealing move";case Ce.Revealed:return"Revealed move";case Ce.Matched:return"Matched";case Ce.Finished:return"Game complete";default:return""}},isRegistering(){return this.gameState==Ce.Registering},isWaiting(){return this.gameState==Ce.Waiting},isRevealing(){return this.gameState==Ce.Revealing},isRevealed(){return this.gameState==Ce.Revealed},roundStateString(){return this.bothRevealed?this.isWinner?"You won!":this.isLoser?"You lost!":"Draw!":null},isOpponentMoveRevealed(){return this.opponentState==Ce.Revealed},bothRevealed(){return this.isRevealed&&this.isOpponentMoveRevealed},isInGame(){return"0"!=this.currentGameId&&this.gameState!=Ce.Initial&&this.gameState!=Ce.Registering&&this.gameState!=Ce.Waiting},isMoveSent(){return this.gameState==Ce.Sent||this.gameState==Ce.Revealing||this.gameState==Ce.Revealed},isOpponentMoveSent(){return this.opponentState==Ce.Sent||this.opponentState==Ce.Revealing||this.opponentState==Ce.Revealed},isGameFinished(){return this.gameState==Ce.Finished},currentRound(){var e;return this.games[null!==(e=this.currentGameId)&&void 0!==e?e:"0"].round},opponentMove(){var e;return this.games[null!==(e=this.currentGameId)&&void 0!==e?e:"0"].moves[this.currentRound][this.getOpponentAccount]},isWinner(){return Qt(this.selectedMove,this.opponentMove)==ke.PlayerA},isLoser(){return Qt(this.selectedMove,this.opponentMove)==ke.PlayerB},currentGameId(){var e;const t=Object.values(this.games).sort(((e,t)=>t.gameId-e.gameId));Vt.log("currentGameId",t);const n=t.find((e=>e.outcome==ke.None&&(e.playerA.toLowerCase()==this.activeAccount.toLowerCase()||e.playerB==this.getActiveAccount)));return Vt.log("games ordered by gameId",t),Vt.log("currentGameId",n),null!==(e=null===n||void 0===n?void 0:n.gameId)&&void 0!==e?e:"0"},previousGame(){const e=Object.values(this.games).sort(((e,t)=>t.gameId-e.gameId)),t=e.find((e=>e.gameId!==this.currentGameId&&e.outcome!=ke.None));return Vt.log("games ordered by gameId",e),Vt.log("previous game",t),t},previousGameWager(){var e,t;return null!==(e=null===(t=this.previousGame)||void 0===t?void 0:t.bet)&&void 0!==e?e:0},currentWager(){var e,t;return null!==(e=null===(t=this.games[this.currentGameId])||void 0===t?void 0:t.bet)&&void 0!==e?e:0},previousGamePoints(){var e,t,n;return Vt.log("previousGamePoints",null===(e=this.previousGame)||void 0===e?void 0:e.points[this.getActiveAccount.toLowerCase()]),null!==(t=null===(n=this.previousGame)||void 0===n?void 0:n.points[this.getActiveAccount.toLowerCase()])&&void 0!==t?t:0},previousGameOpponent(){var e,t,n,a,s;const i=null===(e=this.previousGame)||void 0===e||null===(t=e.playerA)||void 0===t?void 0:t.toLowerCase(),r=null===(n=this.previousGame)||void 0===n||null===(a=n.playerB)||void 0===a?void 0:a.toLowerCase();return i===(null===this||void 0===this||null===(s=this.getActiveAccount)||void 0===s?void 0:s.toLowerCase())?r:i},yourCurrentPoints(){var e,t,n;return null!==(e=null===(t=this.games[this.currentGameId])||void 0===t?void 0:t.points[null===(n=this.getActiveAccount)||void 0===n?void 0:n.toLowerCase()])&&void 0!==e?e:0},opponentCurrentPoints(){var e,t,n;return null!==(e=null===(t=this.games[this.currentGameId])||void 0===t?void 0:t.points[null===(n=this.opponentAddress)||void 0===n?void 0:n.toLowerCase()])&&void 0!==e?e:0},previousGameOpponentPoints(){var e,t,n;return null!==(e=null===(t=this.previousGame)||void 0===t?void 0:t.points[null===(n=this.previousGameOpponent)||void 0===n?void 0:n.toLowerCase()])&&void 0!==e?e:0},wonLastGame(){return this.previousGamePoints>this.previousGameOpponentPoints},yourAddress(){return this.getActiveAccount},yourMove(){return this.selectedMove},opponentAddress(){var e,t,n,a,s;const i=null===(e=this.games[this.currentGameId])||void 0===e||null===(t=e.playerA)||void 0===t?void 0:t.toLowerCase(),r=null===(n=this.games[this.currentGameId])||void 0===n||null===(a=n.playerB)||void 0===a?void 0:a.toLowerCase();return i===(null===this||void 0===this||null===(s=this.getActiveAccount)||void 0===s?void 0:s.toLowerCase())?r:i},opponentMove(){var e,t,n,a;const s=null===(e=this.opponentAddress)||void 0===e?void 0:e.toLowerCase(),i=this.currentGameId;return null!==(t=null===(n=this.games[null===i||void 0===i?void 0:i.toLowerCase()])||void 0===n||null===(a=n.moves[this.currentRound])||void 0===a?void 0:a[null===s||void 0===s?void 0:s.toLowerCase()])&&void 0!==t?t:Te.None},opponentState(){var e,t,n,a,s,i,r;const o=null===(e=this.opponentAddress)||void 0===e?void 0:e.toLowerCase(),l=null===this||void 0===this?void 0:this.currentGameId,d=null!==(t=null===(n=this.games[null!==(a=this.currentGameId)&&void 0!==a?a:"0"])||void 0===n?void 0:n.round)&&void 0!==t?t:0;return Vt.log("opponentState",null===(s=this.games[null===l||void 0===l?void 0:l.toLowerCase()])||void 0===s?void 0:s.states[d][null===o||void 0===o?void 0:o.toLowerCase()]),null!==(i=null===(r=this.games[null===l||void 0===l?void 0:l.toLowerCase()])||void 0===r?void 0:r.states[d][null===o||void 0===o?void 0:o.toLowerCase()])&&void 0!==i?i:Ce.Initial},opponentStateToString(){switch(this.opponentState){case Ce.Initial:return"Choosing move";case Ce.Registering:return"Registering";case Ce.Waiting:return"Waiting";case Ce.Matched:return"Choosing move";case Ce.Sending:return"Sending";case Ce.Sent:return"Sent";case Ce.Revealing:return"Revealing";case Ce.Revealed:return"Revealed";case Ce.Finished:return"Finished";default:return"Unknown"}},isMoveSending(){return this.gameState==Ce.Sending},shouldReveal(){return Vt.log("shouldReveal",this.isMoveSent,this.isOpponentMoveSent,this.isGameFinished,this.isRevealing),this.isMoveSent&&this.isOpponentMoveSent&&!this.isGameFinished&&!this.isRevealing&&this.initialized&&!this.isRevealed},shouldMove(){return(this.isMoveSent||this.isMoveSending)&&this.isInGame},shouldSetAffiliateCode(){const e=localStorage.getItem("affiliateCode");return e&&this.affiliateOfUser==Mt.d},pendingGames(){const e=Object.values(this.games);return e.filter((e=>e.outcome==ke.None&&""==e.playerB&&"0"!=e.gameId))},activeGames(){const e=Object.values(this.games);return e.filter((e=>e.outcome==ke.None&&""!=e.playerB&&"0"!=e.gameId))},completedGames(){const e=Object.values(this.games);return e.filter((e=>e.outcome!=ke.None&&"0"!=e.gameId))}},async mounted(){Vt.log("provider",this.provider),this.initialized=!1,this.fetchPastGames(),this.subscribeToEvents(),Vt.log("ramp sdk",St["default"]);const e=localStorage.getItem("lastSentMove"),t=localStorage.getItem("lastRandomString"),n=localStorage.getItem("lastBetAmount"),a=localStorage.getItem("playWithFriend");e&&(this.selectedMove=e),n&&(this.selectedBet=n,this.sliderIndex=this.wagerSteps.indexOf(parseFloat(n))),t&&(this.randomString=t),this.playWithFriend="true"===a,Vt.log("playWithFriend",this.playWithFriend),Vt.log("playWithFriend localStorage",localStorage.getItem("playWithFriend")),this.initialized=!0,await this.getAccount(),await this.checkAffililiateCode(),await this.checkJoiningPassword()},watch:{games:{handler(e,t){Vt.log("yourGameState",Zt(this.gameState)),Vt.log("games changed",this.games[this.currentGameId]),Pt.dispatch("setGames",this.games),Vt.log("store games",Pt.state.games)},deep:!0},isInGame:{handler(e,t){e&&(this.$store.dispatch("setBalanceOf",this.opponentAddress),Vt.log("isInGame",e)),this.$store.dispatch("setIsInGame",e),this.$store.dispatch("setLeaveGame",this.leaveGame)},deep:!0,immediate:!0},shouldReveal:{handler(e,t){e&&(Vt.log("is calling revealMove"),this.revealMove())},deep:!0},isMetamask:{handler(e,t){if(e){this.burnerPrivateKey=Dt().value;const e=this.getWeb3.eth.accounts.privateKeyToAccount(this.burnerPrivateKey);this.getWeb3.eth.accounts.wallet.add(e),this.burnerAddress=e.address,this.burnerContractInstance=new this.getWeb3.eth.Contract(Jt,Kt,{from:this.burnerAddress}),this.$store.dispatch("setBalanceOf",this.burnerAddress)}},immediate:!0}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))},onRock(){this.selectedMove=Te.Rock,this.sendMove()},onPaper(){this.selectedMove=Te.Paper,this.sendMove()},onScissors(){this.selectedMove=Te.Scissors,this.sendMove()},buttonClicked(e){this.sliderIndex=e,this.sliderValueChanged()},sliderValueChanged(){this.selectedBet=this.wagerSteps[this.sliderIndex]},togglePlayWithFriend(){const e=localStorage.getItem("playWithFriend");"true"==e?(Vt.log("setting playWithFriend to false"),localStorage.setItem("playWithFriend",!1),this.playWithFriend=!1):(Vt.log("setting playWithFriend to true"),localStorage.setItem("playWithFriend",!0),this.playWithFriend=!0)},async getStripeClientSecret(){this.activeAccount&&fetch("/api/stripe_intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address})}).then((e=>e.json())).then((e=>{setClientSecret(e.client_secret)}))},async getAccount(){const e=await this.getWeb3.eth.getAccounts();return Vt.log("accounts",e),this.activeAccount=e[0],e[0]},async setContract(){this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt),Vt.log("contractInstance",this.contractInstance),this.affiliateContract=new this.getWeb3.eth.Contract(me.deployedAbis.Affiliate,me.deployedContracts.Affiliate)},async getBlockNumber(){const e=await this.getWeb3.eth.getBlockNumber();return e},async getContract(){return this.contractInstance||await this.setContract(),this.contractInstance},createGame(e,t=this.getActiveAccount){this.games[e]={gameId:e,playerA:t.toLowerCase(),playerB:"",states:{[0]:{[t.toLowerCase()]:Ce.Initial}},bet:0,moves:{[0]:{[t.toLowerCase()]:Te.None}},outcome:ke.None,points:{[t.toLowerCase()]:0},round:0}},setLastGameId(e){Vt.log("setting last game",e),this._lastGameId=parseInt(e)},isNewestGameId(e){return parseInt(e)>=this._lastGameId&&e>=this.currentGameId},getGame(e){return this.games[e]},getGameCurrentRound(e){return this.games[e].length-1},convertTimestampToTime(e){const t=new Date(1e3*e);let n=t.getHours();const a="0"+t.getMinutes(),s=n>=12?"PM":"AM";n%=12,n=n||12;const i=n+":"+a.substr(-2)+" "+s;return i},async handleRegisterEvent(e,t){Vt.log("PlayerRegistered event:",e.returnValues);const{gameId:n,playerAddress:a}=e.returnValues;this.getGame(n,0)||this.createGame(n,a),this.getGame(n).states[0][a.toLowerCase()]=Ce.Waiting;const s=await this.getWeb3.eth.getBlock(e.blockNumber),i=s.timestamp;this.getGame(n).time=this.convertTimestampToTime(i)},handleWaitingEvent(e){Vt.log("PlayerWaiting event:",e.returnValues);const{gameId:t,bet:n}=e.returnValues;this.getGame(t,0)||this.createGame(t);const a=this.getGame(t).playerA.toLowerCase();this.getGame(t).playerB.toLowerCase();this.getGame(t).states[0][a]=Ce.Waiting,this.getGame(t).bet=1e-18*n},handlePlayersMatchedEvent(e){Vt.log("PlayersMatched event:",e.returnValues);const{gameId:t,playerA:n,playerB:a}=e.returnValues;this.getGame(t)||this.createGame(t,n),this.getGame(t).playerA=n.toLowerCase(),this.getGame(t).playerB=a.toLowerCase(),this.getGame(t).states[0][n.toLowerCase()]=Ce.Matched,this.getGame(t).states[0][a.toLowerCase()]=Ce.Matched,Vt.log("setting game to matched")},handleMoveSentEvent(e){Vt.log("MoveSent event:",e.returnValues);const{gameId:t,round:n,playerAddress:a}=e.returnValues;this.getGame(t)||this.createGame(t,a),this.getGame(t).moves[n]||(this.getGame(t).moves[n]={}),this.getGame(t).states[n]||(this.getGame(t).states[n]={}),this.getGame(t).states[n][a.toLowerCase()]=Ce.Sent},handleRevealedEvent(e){Vt.log("MoveRevealed event:",e.returnValues);const{gameId:t,round:n,playerAddress:a,move:s}=e.returnValues;this.getGame(t)||this.createGame(t,a),this.getGame(t).moves[n]||(this.getGame(t).moves[n]={}),this.getGame(t).states[n]||(this.getGame(t).states[n]={}),this.games[t].moves[n][a.toLowerCase()]=s,this.games[t].states[n][a.toLowerCase()]=Ce.Revealed},handleNewRoundEvent(e){Vt.log("NewRound event:",e.returnValues);const{gameId:t,round:n,pointsA:a,pointsB:s}=e.returnValues;this.games[t]||this.createGame(t),this.games[t].states[n]||(this.games[t].states[n]={}),this.games[t].moves[n]||(this.games[t].moves[n]={}),this.games[t].round=n,this.games[t].points[this.games[t].playerA.toLowerCase()]=a,this.games[t].points[this.games[t].playerB.toLowerCase()]=s,Vt.log("setting new points for gameId",t,a,s)},handleOutcomeEvent(e,t=!1){Vt.log("GameOutcome event:",e.returnValues);const{gameId:n,outcome:a}=e.returnValues;!0===t&&"boolean"===typeof t&&(Vt.log("setting modal"),this.winnerPoints=this.yourCurrentPoints>this.opponentCurrentPoints?this.yourCurrentPoints:this.opponentCurrentPoints,this.loserPoints=this.yourCurrentPoints<this.opponentCurrentPoints?this.yourCurrentPoints:this.opponentCurrentPoints,this.winModal=this.yourCurrentPoints>this.opponentCurrentPoints,this.showModal=!0),this.games[n]||this.createGame(n),this.games[n].outcome=a,this.games[n].playerA.toLowerCase()!=this.activeAccount.toLowerCase()&&this.games[n].playerB.toLowerCase()!=this.activeAccount.toLowerCase()||this.createGame("0")},handlePlayerCancelledEvent(e){Vt.log("PlayerCancelled event:",e.returnValues);const{gameId:t,playerAddress:n}=e.returnValues;this.games[t]||this.createGame(t,n),this.games[t].outcome=ke.Cancelled,this.games[t].playerA.toLowerCase()!=this.activeAccount.toLowerCase()&&this.games[t].playerB.toLowerCase()!=this.activeAccount.toLowerCase()||this.createGame("0")},async subscribeToEvents(){const e=await this.getContract(),t=await this.getAccount();Vt.log("Polling for events..."),Vt.log("contract:",e);const n=["PlayerRegistered","PlayerWaiting","PlayersMatched","MoveCommitted","MoveRevealed","NewRound","GameOutcome","PlayerCancelled"],a={PlayerRegistered:this.handleRegisterEvent,PlayerWaiting:this.handleWaitingEvent,PlayersMatched:this.handlePlayersMatchedEvent,MoveCommitted:this.handleMoveSentEvent,MoveRevealed:this.handleRevealedEvent,NewRound:this.handleNewRoundEvent,GameOutcome:this.handleOutcomeEvent,PlayerCancelled:this.handlePlayerCancelledEvent},s=1e3;let i=await this.getBlockNumber();setInterval((async()=>{const s=await this.getBlockNumber();for(const r of n){const n=await e.getPastEvents(r,{fromBlock:i+1,toBlock:s});n.forEach((e=>{const n=`${e.transactionHash}-${r}-${e.logIndex}`;this.handledEventIds.has(n)||(Vt.log(`New ${r} event detected:`,e),"GameOutcome"==r&&a[r].call(this,e,!0),"NewRound"===r?setTimeout((()=>{a[r].call(this,e,t)}),1e3):a[r].call(this,e,t),this.handledEventIds.add(n))}))}i=s,Vt.log("lastBlockChecked:",i)}),s)},async setPassword(){const e=await Xt(),t="0x"+(0,At.sha256)(e);localStorage.setItem("passwordHash",t),localStorage.setItem("password",e)},getPassword(){const e=localStorage.getItem("password");return e},getPasswordHash(){const e=localStorage.getItem("passwordHash");return e},async getActiveGameId(){this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt));try{const e=await this.getWeb3.eth.getAccounts(),t=await this.contractInstance.methods.playerGame(e[0]).call({from:e[0]});return t}catch(e){}},copyAffiliateLink(){const e=new URL(window.location.href);e.searchParams.set("ref",this.getActiveAccount),navigator.clipboard.writeText(e.href),alert("Copied to clipboard!")},copyPasswordGameLink(){const e=new URL(window.location.href),t=this.getPassword();e.searchParams.set("game",t);const n=this.selectedBet;e.searchParams.set("bet",n),navigator.clipboard.writeText(e.href),alert("Copied to clipboard!")},async registerAsConsumer(){if(Vt.log("Registering as consumer..."),alert("Registering as consumer..."),this.affiliateContract)try{await this.getWeb3.eth.getAccounts();const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=localStorage.getItem("affiliateCode");Vt.log("affiliateAddress:",n);const a=await this.affiliateContract.methods.registerAsConsumer(n).send({from:this.activeAccount,gasPrice:e,gasLimit:t});Vt.log("registerAsConsumer result:",a)}catch(e){Vt.error("Error registering as consumer:",e)}},async registerGame(){if(this.playWithFriend)await this.createPasswordGame();else if(this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt)),this.selectedBet){this.shouldSetAffiliateCode||Vt.log("Not registering as consumer...");try{var e,t,n;Vt.log("Registering game...",this.currentGameId),this.games[null!==(e=this.currentGameId)&&void 0!==e?e:"0"]||this.createGame(null!==(t=this.currentGameId)&&void 0!==t?t:"0"),this.games[null!==(n=this.currentGameId)&&void 0!==n?n:"0"].states[0][this.getActiveAccount]=Ce.Registering;const a=await this.getWeb3.eth.getAccounts(),s=this.getWeb3.utils.toWei("0.1","gwei"),i=3e6,r=this.getWeb3.utils.toWei(this.selectedBet.toString(),"ether"),o=await this.contractInstance.methods.playerGame(a[0]).call({from:a[0]});if(Vt.log("gameId:",o),this.isBurner){const e=this.getWeb3.utils.toWei((this.burnerTopUpAmount+parseFloat(this.selectedBet)).toString(),"ether");Vt.log("totalValue:",e);await this.burnerContractInstance.methods.registerWithBurner(this.burnerAddress,r).send({from:a[0],value:e,gasPrice:s,gasLimit:i})}else{await this.contractInstance.methods.register().send({from:a[0],value:r,gasPrice:s,gasLimit:i})}localStorage.setItem("lastBetAmount",this.selectedBet)}catch(r){var a,s,i;this.games[null!==(a=this.currentGameId)&&void 0!==a?a:"0"]||this.createGame(null!==(s=this.currentGameId)&&void 0!==s?s:"0"),this.games[null!==(i=this.currentGameId)&&void 0!==i?i:"0"].states[0][this.getActiveAccount]=Ce.Initial,Vt.error("Error registering game:",r)}}else alert("Please select a bet amount.")},async createPasswordGame(){if(this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt)),this.selectedBet)try{var e,t,n;Vt.log("Creating password game...",this.currentGameId),this.games[null!==(e=this.currentGameId)&&void 0!==e?e:"0"]||this.createGame(null!==(t=this.currentGameId)&&void 0!==t?t:"0"),this.games[null!==(n=this.currentGameId)&&void 0!==n?n:"0"].states[0][this.getActiveAccount]=Ce.Registering;const a=await this.getWeb3.eth.getAccounts(),s=this.getWeb3.utils.toWei("0.1","gwei"),i=3e6,r=this.getWeb3.utils.toWei(this.selectedBet.toString(),"ether"),o=await this.contractInstance.methods.playerGame(a[0]).call({from:a[0]});await this.setPassword();const l=this.getPasswordHash();if(Vt.log("gameId:",o),this.isBurner){const e=this.getWeb3.utils.toWei((this.burnerTopUpAmount+parseFloat(this.selectedBet)).toString(),"ether");await this.burnerContractInstance.methods.createPasswordMatchWithBurner(this.burnerAddress,r,l).send({from:a[0],value:e,gasPrice:s,gasLimit:i})}else{await this.contractInstance.methods.createPasswordMatch(l).send({from:a[0],value:r,gasPrice:s,gasLimit:i})}localStorage.setItem("lastBetAmount",this.selectedBet)}catch(r){var a,s,i;this.games[null!==(a=this.currentGameId)&&void 0!==a?a:"0"]||this.createGame(null!==(s=this.currentGameId)&&void 0!==s?s:"0"),this.games[null!==(i=this.currentGameId)&&void 0!==i?i:"0"].states[0][this.getActiveAccount]=Ce.Initial,Vt.error("Error registering game:",r)}else alert("Please select a bet amount.")},async joinPasswordMatch(e,t){if(this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt)),this.selectedBet=t,this.selectedBet){this.shouldSetAffiliateCode?await this.registerAsConsumer():Vt.log("Not registering as consumer...");try{var n,a,s;Vt.log("Joining password match...",this.currentGameId),this.games[null!==(n=this.currentGameId)&&void 0!==n?n:"0"]||this.createGame(null!==(a=this.currentGameId)&&void 0!==a?a:"0"),this.games[null!==(s=this.currentGameId)&&void 0!==s?s:"0"].states[0][this.getActiveAccount]=Ce.Registering;const t=await this.getWeb3.eth.getAccounts(),i=this.getWeb3.utils.toWei("0.1","gwei"),r=3e6,o=this.getWeb3.utils.toWei(this.selectedBet.toString(),"ether"),l=await this.contractInstance.methods.playerGame(t[0]).call({from:t[0]});if(Vt.log("gameId:",l),this.isBurner){const n=this.getWeb3.utils.toWei((this.burnerTopUpAmount+parseFloat(this.selectedBet)).toString(),"ether");await this.burnerContractInstance.methods.joinPasswordMatchWithBurner(this.burnerAddress,o,e).send({from:t[0],value:n,gasPrice:i,gasLimit:r});ce}else{await this.contractInstance.methods.joinPasswordMatch(e).send({from:t[0],value:o,gasPrice:i,gasLimit:r})}localStorage.setItem("lastBetAmount",this.selectedBet)}catch(l){var i,r,o;this.games[null!==(i=this.currentGameId)&&void 0!==i?i:"0"]||this.createGame(null!==(r=this.currentGameId)&&void 0!==r?r:"0"),this.games[null!==(o=this.currentGameId)&&void 0!==o?o:"0"].states[0][this.getActiveAccount]=Ce.Initial,Vt.error("Error registering game:",l)}}else alert("Please select a bet amount.")},async sendMove(){const e=this.gameState;if(this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt)),this.selectedBet)try{var t,n,a;Vt.log("Sending game...",this.currentGameId),this.games[null!==(t=this.currentGameId)&&void 0!==t?t:"0"]||this.createGame(null!==(n=this.currentGameId)&&void 0!==n?n:"0"),this.games[null!==(a=this.currentGameId)&&void 0!==a?a:"0"].states[this.currentRound][this.getActiveAccount]=Ce.Sending,this.randomString=Xt();const e="0x"+(0,At.sha256)(this.selectedMove+this.randomString);Vt.log("clearMove:",this.selectedMove+this.randomString);const s=await this.getWeb3.eth.getAccounts(),i=this.getWeb3.utils.toWei("0.01","gwei"),r=3e6;if(this.isBurner){await this.burnerContractInstance.methods.commit(parseInt(this.currentGameId),e).send({from:this.burnerAddress,gasPrice:i,gasLimit:r})}else{const t=await this.contractInstance.methods.commit(parseInt(this.currentGameId),e).send({from:s[0],gasPrice:i,gasLimit:r});Vt.log("Game registered:",t)}localStorage.setItem("lastSentMove",this.selectedMove),localStorage.setItem("lastRandomString",this.randomString)}catch(o){var s,i,r;this.games[null!==(s=this.currentGameId)&&void 0!==s?s:"0"]||this.createGame(null!==(i=this.currentGameId)&&void 0!==i?i:"0"),this.games[null!==(r=this.currentGameId)&&void 0!==r?r:"0"].states[this.getActiveAccount]=e,this.selectedMove="",Vt.error("Error registering game:",o)}else alert("Please select a bet amount.")},async cancelGame(){this.gameState;this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt));try{Vt.log("Cancelling game...",this.currentGameId);const e=await this.getWeb3.eth.getAccounts(),t=this.getWeb3.utils.toWei("0.01","gwei"),n=3e6;if(this.isBurner){await this.burnerContractInstance.methods.cancel(parseInt(this.currentGameId)).send({from:this.burnerAddress,gasPrice:t,gasLimit:n})}else{const a=await this.contractInstance.methods.cancel(parseInt(this.currentGameId)).send({from:e[0],gasPrice:t,gasLimit:n});Vt.log("Game cancelled:",a)}}catch(e){Vt.error("Error cancelling game:",e)}},async leaveGame(){this.gameState;this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt));try{Vt.log("Leaving game...",this.currentGameId);const e=await this.getWeb3.eth.getAccounts(),t=this.getWeb3.utils.toWei("0.01","gwei"),n=3e6;if(this.isBurner){await this.burnerContractInstance.methods.leave(parseInt(this.currentGameId)).send({from:this.burnerAddress,gasPrice:t,gasLimit:n})}else{const a=await this.contractInstance.methods.leave(parseInt(this.currentGameId)).send({from:e[0],gasPrice:t,gasLimit:n});Vt.log("Game left:",a)}}catch(e){Vt.error("Error cancelling game:",e)}},async revealMove(){this.gameState;this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt));try{this.games[this.currentGameId]||this.createGame(this.currentGameId),this.games[this.currentGameId].states[this.getActiveAccount]=Ce.Revealing;const e=await this.getWeb3.eth.getAccounts(),t=`${this.selectedMove}${this.randomString}`,n=this.getWeb3.utils.toWei("0.01","gwei"),a=3e6;if(this.isBurner){await this.burnerContractInstance.methods.reveal(parseInt(this.currentGameId),t).send({from:this.burnerAddress,gasPrice:n,gasLimit:a})}else{await this.contractInstance.methods.reveal(this.currentGameId,t).send({from:e[0],gasPrice:n,gasLimit:a})}Vt.log("Current gameState:",this.games[this.currentGameId].states[this.getActiveAccount])}catch(e){this.games[this.currentGameId]||this.createGame(this.currentGameId),this.games[this.currentGameId].states[this.getActiveAccount]=Ce.Sent,Vt.error("Error revealing move:",e)}},async getGameOutcome(){this.contractInstance||(this.contractInstance=new this.getWeb3.eth.Contract(Jt,Kt));try{const e=await this.getWeb3.eth.getAccounts(),t=this.getWeb3.utils.toWei("0.1","gwei"),n=3e6,a=await this.contractInstance.methods.getOutcome(this.currentGameId).call({from:e[0],gasPrice:t,gasLimit:n});Vt.log("Game outcome:",a)}catch(e){Vt.error("Error getting game outcome:",e)}},async fetchPlayerRegisteredEvents(e){const t=await this.getContract(),n=await t.getPastEvents("PlayerRegistered",{fromBlock:e});this.playerRegisteredEvents=n,Vt.log("playerRegisteredEvents:",this.playerRegisteredEvents.map((e=>e.returnValues)))},async fetchPlayerWaitingEvents(e){const t=await this.getContract(),n=await t.getPastEvents("PlayerWaiting",{fromBlock:e});this.playerWaitingEvents=n,Vt.log("playerWaitingEvents:",this.playerWaitingEvents.map((e=>e.returnValues)))},async fetchPlayersMatchedEvents(e){const t=await this.getContract(),n=await t.getPastEvents("PlayersMatched",{fromBlock:e});this.playersMatchedEvents=n,Vt.log("playersMatchedEvents:",this.playersMatchedEvents.map((e=>e.returnValues)))},async fetchPlayersMoveCommittedEvents(e){const t=await this.getContract(),n=await t.getPastEvents("MoveCommitted",{fromBlock:e});this.moveCommittedEvents=n,Vt.log("moveCommittedEvents:",this.moveCommittedEvents.map((e=>e.returnValues)))},async fetchMoveRevealedEvents(e){const t=await this.getContract(),n=await t.getPastEvents("MoveRevealed",{fromBlock:e});this.moveRevealedEvents=n,Vt.log("moveRevealedEvents:",this.moveRevealedEvents.map((e=>e.returnValues)))},async fetchNewRoundEvents(e){const t=await this.getContract(),n=await t.getPastEvents("NewRound",{fromBlock:e});this.newRoundEvents=n,Vt.log("newRoundEvents:",this.newRoundEvents.map((e=>e.returnValues)))},async fetchGameOutcomeEvents(e){const t=await this.getContract(),n=await t.getPastEvents("GameOutcome",{fromBlock:e});this.gameOutcomeEvents=n,Vt.log("gameOutcomeEvents:",this.gameOutcomeEvents.map((e=>e.returnValues)))},async fetchPlayerCancelledEvents(e){const t=await this.getContract(),n=await t.getPastEvents("PlayerCancelled",{fromBlock:e});this.playerCancelledEvents=n,Vt.log("playerCancelledEvents:",this.playerCancelledEvents.map((e=>e.returnValues)))},addToHandledEvents(e,t){const n=`${e.transactionHash}-${t}-${e.logIndex}`;this.handledEventIds.add(n)},async processEvents(){const e=await this.getAccount();for(const t of this.playerRegisteredEvents)this.handleRegisterEvent(t,e),this.addToHandledEvents(t,"PlayerRegistered");for(const t of this.playerWaitingEvents)this.handleWaitingEvent(t),this.addToHandledEvents(t,"PlayerWaiting");for(const t of this.playerCancelledEvents)this.handlePlayerCancelledEvent(t),this.addToHandledEvents(t,"PlayerCancelled");for(const t of this.playersMatchedEvents)this.handlePlayersMatchedEvent(t),this.addToHandledEvents(t,"PlayersMatched");for(const t of this.moveCommittedEvents)this.handleMoveSentEvent(t),this.addToHandledEvents(t,"MoveCommitted");for(const t of this.moveRevealedEvents)this.handleRevealedEvent(t),this.addToHandledEvents(t,"MoveRevealed");for(const t of this.newRoundEvents)this.handleNewRoundEvent(t),this.addToHandledEvents(t,"NewRound");for(const t of this.gameOutcomeEvents)this.handleOutcomeEvent(t),this.addToHandledEvents(t,"GameOutcome")},async checkAffililiateCode(){const e=new URLSearchParams(window.location.search),t=e.get("ref");t&&localStorage.setItem("affiliateCode",t),this.affiliateOfUser=await this.affiliateContract.methods.getAffiliateOfConsumer(this.activeAccount).call(),Vt.log("affiliate of user",this.affiliateOfUser)},async checkJoiningPassword(){const e=new URLSearchParams(window.location.search),t=e.get("game"),n=e.get("bet");t&&!this.isInGame&&!this.isJoiningGame&&n&&await this.joinPasswordMatch(t,n)},async fetchPastGames(){const e=31290509;await this.fetchPlayerRegisteredEvents(e),await this.fetchPlayerWaitingEvents(e),await this.fetchPlayersMatchedEvents(e),await this.fetchPlayersMoveCommittedEvents(e),await this.fetchMoveRevealedEvents(e),await this.fetchNewRoundEvents(e),await this.fetchGameOutcomeEvents(e),await this.fetchPlayerCancelledEvents(e),this.processEvents()}}},tn=(0,et.Z)(en,[["render",ye]]),nn=tn;function an(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Uk)(" Staking screen "),(0,s._)("div",null,[(0,s._)("div",null,"Hands token balance : "+(0,d.zw)(i.handsTokenBalance),1),(0,s._)("div",null,"Your staked amount : "+(0,d.zw)(i.handsStakedBalance),1),(0,s._)("div",null,"Share of total hands staked : "+(0,d.zw)(i.handsStakedBalance/i.totalHandsStakedBalance*100)+"%",1),(0,s._)("div",null,"Your claimable ETH for staking : "+(0,d.zw)(i.claimableEthForStaking),1),(0,s._)("div",null,"Protocol fee revenue : "+(0,d.zw)(i.protocolFeeRevenue),1),(0,s._)("div",null,"Protocol affiliate revenue : "+(0,d.zw)(e.protocolAffiliateRevenue),1),(0,s._)("div",null,"Total hands staked balance : "+(0,d.zw)(i.totalHandsStakedBalance),1),(0,s._)("div",null,[(0,s.Uk)("Your onboarded addresses : "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.onboardedAddresses,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},(0,d.zw)(e),1)))),128))]),(0,s._)("div",null,"Claimable Affiliate rewards : "+(0,d.zw)(i.claimableEthForAffiliate),1),(0,s._)("div",null,"Your affiliate link : "+(0,d.zw)(i.affiliateLink),1)]),(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.stake&&r.stake(...e))},"Stake 10 HANDS"),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>r.unstake&&r.unstake(...e))},"Unstake 10 HANDS"),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>r.claim&&r.claim(...e))},"Claim Staking Rewards"),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>r.claimAffiliateRewards&&r.claimAffiliateRewards(...e))},"Claim Affiliate Rewards")])}var sn=n(15941);const rn={components:{},props:{provider:{type:String,default:null}},data(){return{stakingContract:null,handsTokenContract:null,affiliateContract:null,activeAccount:null,handsTokenBalance:0,handsStakedBalance:0,totalHandsStakedBalance:0,claimableEthForStaking:0,claimableEthForAffiliate:0,affiliateLink:null,onboardedAddresses:[],protocolFeeRevenue:0,totalStakedPerBlock:null}},computed:{getActiveAccount(){var e;return null===(e=this.activeAccount)||void 0===e?void 0:e.toLowerCase()},getWeb3(){return new(ve())(this.provider)}},mounted(){sn.log("provider",this.provider),sn.log("mainContracts",me),this.init()},watch:{},methods:{async init(){await this.setAccount(),await this.setContracts(),this.setHandsTokenBalance(),this.setHandsStakedBalance(),this.setTotalHandsStakedAmount(),this.setClaimableEthForStaking(),this.setClaimableEthForAffiliate(),this.setProtocolFeeRevenue()},async setAccount(){const e=await this.getWeb3.eth.getAccounts();sn.log("accounts",e),this.activeAccount=e[0]},async setContracts(){this.stakingContract=new this.getWeb3.eth.Contract(me.deployedAbis.Staking,me.deployedContracts.Staking),this.handsTokenContract=new this.getWeb3.eth.Contract(me.deployedAbis.HandsToken,me.deployedContracts.HandsToken),this.affiliateContract=new this.getWeb3.eth.Contract(me.deployedAbis.Affiliate,me.deployedContracts.Affiliate)},async setHandsTokenBalance(){if(!this.handsTokenContract)return 0;const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18,setInterval((async()=>{const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18}),5e3)},async setHandsStakedBalance(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18}),5e3)},async setTotalHandsStakedAmount(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18}),5e3)},async setClaimableEthForStaking(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18}),5e3)},async setClaimableEthForAffiliate(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18,setInterval((async()=>{const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18}),5e3)},async setOnboardedAddresses(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e,setInterval((async()=>{const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e}),5e3)},async setProtocolFeeRevenue(){const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18,setInterval((async()=>{const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18}),5e3)},async stake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e7,n=(await this.handsTokenContract.methods.approve(me.deployedContracts.Staking,this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}),await this.stakingContract.methods.stake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}));return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),sn.log("Staked",n),n}catch(e){return sn.error("Error staking. Message:",e.message),e.reason&&sn.error("Error reason:",e.reason),sn.error("Error stack trace:",e.stack),e}},async unstake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.unstake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),sn.log("Unstaked",n),n}catch(e){return sn.log("Error unstaking",e),e}},async claim(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),sn.log("Claimed",n),n}catch(e){return sn.log("Error claiming",e),e}},async claimAffiliateRewards(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),sn.log("Claimed",n),n}catch(e){return sn.log("Error claiming",e),e}},async registerAsConsumer(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.registerAsConsumer("0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266").send({from:this.activeAccount,gasPrice:e,gasLimit:t});return sn.log("Registered as consumer",n),n}catch(e){throw sn.log("Error registering as a consumer:",e),e}},async getBlockNumber(){return await this.getWeb3.eth.getBlockNumber()}}},on=(0,et.Z)(rn,[["render",an]]),ln=on;var dn=n(9390),un=n.n(dn),pn=n(82098),cn=n(31267),yn=n(86652),mn=n(62183),hn=n(8945),gn=n(40442),vn=n(15941);const bn="0x1",fn="0x118",wn="0x10e",Tn="0x7A69",kn="0x66eed",Cn={[bn]:"https://rpc.ankr.com/eth",[fn]:"https://testnet.era.zksync.dev",[wn]:"http://localhost:3050/",[Tn]:"http://localhost:8545",[kn]:"https://goerli-rollup.arbitrum.io/rpc"},An=kn,Sn={name:"Home",props:{msg:String},components:{Game:nn,Staking:ln},computed:(0,_t.rn)(["loggedin","loading","loginButtonStatus","connecting","activeAccount","balance","provider","isInGame"]),methods:{async leaveGame(){await Pt.state.leaveGame()}},setup(){const e=(0,we.iH)(!1),t=((0,we.iH)(null),"BPskEPAhlqjgenfk3gNE3CM09cpmINBS5wHflAZavWwWp1B4oWWWypVCHRbHpbLYeKPjkPXYNuNhEPXAJfkYijw"),n=new pn.$L({clientId:t,chainConfig:{chainNamespace:cn.EN.EIP155,chainId:An,rpcTarget:Cn[An],displayName:"Arbitrum Testnet"},uiConfig:{defaultLanguage:"en"},web3AuthNetwork:"testnet"});vn.log("web3auth provider",n.provider);const a=new yn.h({torusWalletOpts:{},walletInitOptions:{whiteLabel:{theme:{isDark:!0,colors:{primary:"#00a8ff"}},logoDark:"https://web3auth.io/images/w3a-L-Favicon-1.svg",logoLight:"https://web3auth.io/images/w3a-D-Favicon-1.svg"},useWalletConnect:!0,enableLogging:!0}}),i=new mn.WalletConnectV1Adapter({adapterSettings:{},clientId:t});n.configureAdapter(i);const r=new hn.MetamaskAdapter({clientId:t,sessionTime:3600,web3AuthNetwork:"testnet",chainConfig:{chainNamespace:cn.EN.EIP155,chainId:An,rpcTarget:Cn[An]}});r.setAdapterSettings({sessionTime:86400,chainConfig:{chainNamespace:cn.EN.EIP155,chainId:An,rpcTarget:Cn[An]},web3AuthNetwork:"testnet"}),n.configureAdapter(r);const o=new gn.TorusWalletAdapter({clientId:t});n.configureAdapter(o),Pt.dispatch("setWeb3Auth",n),(0,s.bv)((async()=>{try{Pt.dispatch("setLoading",!0),Pt.dispatch("setLoggedIn",!1),await n.initModal();const e=await n.getUserInfo();await n.addPlugin(a),n.provider&&(Pt.dispatch("setProvider",n.provider),vn.log("setProvider",n.provider),vn.log("userInfo",e),Pt.dispatch("setLoggedIn",!0)),"metamask"===n.connectedAdapterName&&Pt.dispatch("setIsMetamask",!0),vn.log("adapter",n.connectedAdapterName),vn.log("provider",Pt.state.provider)}catch(e){C("error",e)}finally{Pt.dispatch("setLoading",!1)}}));const l=async()=>{if(!Pt.state.provider||!Pt.state.activeAccount)return;const e=new fe(Pt.state.provider),t=await e.getBalance();vn.log("balanceEth",t),Pt.dispatch("setBalance",t)},d=async()=>{await l(),setTimeout(d,5e3)};(0,s.YP)((()=>Pt.state.provider),(async(e,t)=>{e&&(await d(),await b())}),{immediate:!0});const u=async()=>{if(!n)return void C("web3auth not initialized yet");const e=await n.connect();Pt.dispatch("setProvider",e),vn.log("provider",Pt.state.provider);await n.getUserInfo();Pt.dispatch("setLoggedIn",!0),"metamask"===n.connectedAdapterName&&Pt.dispatch("setIsMetamask",!0),C("Logged in Successfully!")},p=async()=>{if(vn.log("torusPlugin",a),!n)return void C("web3auth not initialized yet");const e=await n.getUserInfo(),t=new(un())("PRODUCTION",{walletAddress:Pt.state.activeAccount,userData:{firstName:e.name||"",email:e.email||""},network:"arbitrum",exchangeScreenTitle:"Buy ETH for your Handsy.io account"});t.init()},c=async()=>{if(!n)return void C("web3auth not initialized yet");const e=await n.authenticateUser();C(e)},y=async()=>{if(!n)return void C("web3auth not initialized yet");const e=await n.getUserInfo();C(e)},m=async()=>{n?(await n.logout(),Pt.dispatch("setProvider",null),Pt.dispatch("setLoggedIn",!1)):C("web3auth not initialized yet")},h=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.getChainId();C(t)},g=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e={chainId:"0x5",displayName:"Goerli",chainNamespace:cn.EN.EIP155,tickerName:"Goerli",ticker:"ETH",decimals:18,rpcTarget:"https://rpc.ankr.com/eth_goerli",blockExplorer:"https://goerli.etherscan.io"};await(null===n||void 0===n?void 0:n.addChain(e)),C("New Chain Added")},v=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");cn.EN.EIP155;await(null===n||void 0===n?void 0:n.switchChain({chainId:"0x5"})),C("Chain Switched")},b=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.getAccounts();Pt.dispatch("setActiveAccount",t[0]),C(t)},f=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.getBalance();C(t)},w=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.sendTransaction();C(t)},T=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.signMessage();C(t)},k=async()=>{if(!Pt.state.provider)return void C("provider not initialized yet");const e=new fe(Pt.state.provider),t=await e.getPrivateKey();C(t)};function C(...e){const t=document.querySelector("#console>p");t&&(t.innerHTML=JSON.stringify(e||{},null,2))}return{staking:e,getWeb3:n,login:u,buyEth:p,authenticateUser:c,logout:m,getUserInfo:y,getChainId:h,addChain:g,switchChain:v,getAccounts:b,getBalance:f,sendTransaction:w,signMessage:T,getPrivateKey:k}}},Mn=(0,et.Z)(Sn,[["render",l]]),_n=Mn;var In=n(22483);const Pn=n.p+"img/background.ae916ffd.png",En={key:0,class:""},Rn=(0,s._)("h1",{style:{"max-width":"525px",margin:"24px",color:"#353535","text-align":"center","font-family":"Sen","font-size":"100px","font-style":"normal","font-weight":"800","line-height":"normal","letter-spacing":"-5px"}}," Welcome to Handsy.io ",-1),xn=(0,s._)("p",{style:{"max-width":"525px",color:"#353535","text-align":"center","font-family":"Sen","font-size":"24px","font-style":"normal","font-weight":"400","line-height":"160%",margin:"0","margin-bottom":"56px"}}," Play rock paper scissors with your friends or with random opponents for real money. ",-1),Fn={key:1,src:Pn,alt:"Hero",style:{width:"100%",position:"absolute",bottom:"0",left:"0","z-index":"-1"}},Bn={key:2};function Wn(e,t,n,a,i,r){const o=(0,s.up)("Game"),l=(0,s.up)("Staking");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("header",En,[Rn,xn,(0,s._)("button",{class:"button-dark",onClick:t[0]||(t[0]=(...e)=>r.login&&r.login(...e)),style:{cursor:"pointer",width:"270px",height:"86px"}}," Sign Up ")])),e.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",Fn)),e.loggedin?((0,s.wg)(),(0,s.iD)("div",Bn,[e.staking?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(o,{key:0,provider:e.provider,balance:e.balance},null,8,["provider","balance"])),e.staking?((0,s.wg)(),(0,s.j4)(l,{key:1,provider:e.provider},null,8,["provider"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)}const Ln={name:"Home",props:{msg:String},components:{Game:nn,Staking:ln},computed:(0,_t.rn)(["loggedin","loading","loginButtonStatus","connecting","activeAccount","balance","provider"]),methods:{login(){Pt.dispatch("login")}}},Gn=(0,et.Z)(Ln,[["render",Wn]]),On=Gn,Dn={class:"content profile-view"},Hn=(0,s._)("div",{class:"profile-big"},null,-1),Nn=(0,s._)("p",null,"User balance",-1),zn={style:{display:"flex","justify-content":"center",gap:"40px","align-items":"end"}},Un={style:{margin:"0","margin-top":"-50px",padding:"0","align-items":"end","margin-bottom":"-20px","font-size":"100px"}},jn=(0,s._)("span",{class:"currency-symbol"},"$",-1),$n={class:"decimals"},qn={style:{display:"flex",gap:"20px","align-items":"end"}},Yn={class:"earnings"},Vn=(0,s._)("span",{class:"currency-symbol"},"$",-1),Zn=(0,s._)("p",{style:{margin:"0"}},"earned",-1);function Kn(e,t,n,a,i,r){var o,l,u,p,c,y,m,h;const g=(0,s.up)("router-link"),v=(0,s.up)("profile-item"),b=(0,s.up)("profile-game-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Dn,[(0,s.Wm)(g,{class:"back",to:"/"}),Hn,Nn,(0,s._)("div",zn,[(0,s._)("h1",Un,[jn,(0,s.Uk)(" "+(0,d.zw)(null===(o=this.balance)||void 0===o?void 0:o.toString().split(".")[0])+" ",1),(0,s._)("span",$n," ."+(0,d.zw)(null!==(l=null===(u=this.balance)||void 0===u||null===(p=u.toString().split(".")[1])||void 0===p?void 0:p.substring(0,4))&&void 0!==l?l:"00"),1)]),(0,s._)("div",qn,[(0,s._)("div",Yn,[Vn,(0,s.Uk)(" "+(0,d.zw)(null===(c=this.earnings)||void 0===c?void 0:c.toString().split(".")[0])+" ",1),(0,s._)("span",null," ."+(0,d.zw)(null!==(y=null===(m=this.earnings)||void 0===m||null===(h=m.toString().split(".")[1])||void 0===h?void 0:h.substring(0,4))&&void 0!==y?y:"00"),1)]),Zn])]),(0,s.Wm)(v,{address:r.address},null,8,["address"])]),(0,s.Wm)(b,{games:r.games},null,8,["games"])],64)}const Jn=e=>((0,s.dD)("data-v-7f6d86fc"),e=e(),(0,s.Cn)(),e),Xn={style:{margin:"120px 80px"}},Qn={style:{"table-layout":"fixed"}},ea=Jn((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"star-symbol-table"}),(0,s._)("p",null,"Result")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"clock-symbol-table"}),(0,s._)("p",null,"Score")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user1-symbol-table"}),(0,s._)("p",null,"Earned")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user2-symbol-table"}),(0,s._)("p",null,"Rounds")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"prize-symbol-table"}),(0,s._)("p",null,"Date")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"rounds-symbol-table"}),(0,s._)("p",null,"Opponent")])])])],-1))),ta={class:"result"},na={class:"score"},aa={class:"rounds"},sa={class:"time"},ia={class:"player"};function ra(e,t,n,a,i,r){const o=(0,s.up)("profile-item");return(0,s.wg)(),(0,s.iD)("div",Xn,[(0,s._)("table",Qn,[ea,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.selectedData,((e,t)=>{var a,i,r;return(0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",ta,(0,d.zw)(e.points[e.playerA]>e.points[e.playerB]?"Win":"Loss"),1),(0,s._)("td",na,(0,d.zw)(e.points[e.playerA])+" : "+(0,d.zw)(null!==(a=e.points[e.playerB])&&void 0!==a?a:0),1),(0,s._)("td",{class:(0,d.C_)(["earned",{"earned-positive":e.points[e.playerA]>e.points[e.playerB],"earned-negative":e.points[e.playerA]<e.points[e.playerB]}])},"$"+(0,d.zw)(e.bet),3),(0,s._)("td",aa,(0,d.zw)(Object.keys(e.moves).length),1),(0,s._)("td",sa,(0,d.zw)(e.time),1),(0,s._)("td",ia,[(0,s.Wm)(o,{address:(null===(i=n.address)||void 0===i?void 0:i.toLowerCase())===(null===(r=e.playerA)||void 0===r?void 0:r.toLowerCase())?e.playerA:e.playerB},null,8,["address"])])])})),128))])])])}var oa=n(15941);const la={components:{GameMove:Re,ProfileItem:nt},data(){return{selectedTab:"Completed"}},props:{address:{type:String},games:{type:Array}},computed:{selectedData(){return oa.log("profile game list",this.games),this.games}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}},da=(0,et.Z)(la,[["render",ra],["__scopeId","data-v-7f6d86fc"]]),ua=da;var pa=n(15941);const ca={components:{ProfileItem:nt,ProfileGameList:ua},data(){},computed:{provider(){return this.$store.state.provider},address(){return this.$route.params.id},balance(){return this.$store.getters.balance(this.address)},truncatedAddress(){return this.address.substring(0,6)+"..."+this.address.substring(this.address.length-4,this.address.length)},games(){return Object.values(this.$store.state.games).filter((e=>"0"!=e.gameId&&(e.playerA.toLowerCase()==this.address.toLowerCase()||e.playerA.toLowerCase()==this.address.toLowerCase())))},completedGames(){return pa.log("completed games",this.games.filter((e=>e.outcome!=ke.None))),this.games.filter((e=>e.outcome!=ke.None))},earnings(){let e=0;for(let t of this.completedGames){const n=t.points[this.address.toLowerCase()],a=n>=3,s=t.bet;a?(e+=s,pa.log("won",s)):(e-=s,pa.log("lost",s))}return pa.log("earnings",e),e}},props:{},watch:{provider:{handler(){this.$store.dispatch("setBalanceOf",this.address)},immediate:!0}}},ya=(0,et.Z)(ca,[["render",Kn]]),ma=ya,ha={style:{gap:"50px"},class:"content staking-view"},ga=(0,s._)("div",{style:{"margin-bottom":"56"},class:"profile-big"},null,-1),va=(0,s._)("p",null,"Your balance",-1),ba={style:{display:"flex","justify-content":"center",gap:"40px","align-items":"end"}},fa={style:{margin:"0","margin-top":"-20px","margin-bottom":"-20px",padding:"0","align-items":"end","font-size":"100px"}},wa=(0,s._)("span",{style:{"font-size":"50px"},class:"currency-symbol"},"HANDS",-1),Ta=(0,s._)("button",{style:{"margin-top":"60px","margin-bottom":"90px"},class:"button-dark"}," Buy HANDS ",-1),ka={style:{width:"100%",display:"grid","grid-template-columns":"1fr auto 1fr","margin-bottom":"70px"}},Ca={style:{display:"flex",gap:"20px","align-items":"center","flex-direction":"column"}},Aa=(0,s._)("p",null,"Total staked",-1),Sa={style:{display:"flex",gap:"20px","align-items":"center","flex-direction":"column"}},Ma=(0,s._)("p",null,"Protocol Revenue",-1),_a=(0,s._)("span",{class:"currency-symbol"},"ETH",-1),Ia={style:{display:"flex",gap:"20px","align-items":"center","flex-direction":"column"}},Pa=(0,s._)("p",null,"Stakers",-1),Ea={style:{display:"flex","justify-content":"space-between",gap:"40px"}},Ra={class:"card"},xa=(0,s._)("p",null,"Your stake",-1),Fa=(0,s._)("span",{class:"currency-symbol"},"HANDS",-1),Ba={style:{display:"flex"}},Wa={class:"card"},La=(0,s._)("p",null,"Your rewards",-1),Ga=(0,s._)("p",null,"Revenue Events",-1);function Oa(e,t,n,a,i,r){var o,l,u,p;const c=(0,s.up)("router-link"),y=(0,s.up)("list-staking"),m=(0,s.up)("modal-stake"),h=(0,s.Q2)("modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ha,[(0,s.Wm)(c,{class:"back",to:"/"}),ga,va,(0,s._)("div",ba,[(0,s._)("h1",fa,[(0,s.Uk)((0,d.zw)(null===(o=this.handsTokenBalance)||void 0===o?void 0:o.toString().split(".")[0])+"."+(0,d.zw)(null!==(l=null===(u=this.handsTokenBalance)||void 0===u||null===(p=u.toString().split(".")[1])||void 0===p?void 0:p.substring(0,4))&&void 0!==l?l:"00")+" ",1),wa])]),Ta,(0,s._)("div",ka,[(0,s._)("div",Ca,[Aa,(0,s._)("h2",null,(0,d.zw)(i.totalHandsStakedBalance)+" HANDS",1)]),(0,s._)("div",Sa,[Ma,(0,s._)("h2",null,[(0,s.Uk)((0,d.zw)(i.protocolFeeRevenue)+" ",1),_a])]),(0,s._)("div",Ia,[Pa,(0,s._)("h2",null,(0,d.zw)(i.stakerAmount),1)])]),(0,s._)("div",Ea,[(0,s._)("div",Ra,[xa,(0,s._)("h1",null,[(0,s.Uk)((0,d.zw)(i.handsStakedBalance)+" ",1),Fa]),(0,s._)("div",Ba,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.showStakeModal&&r.showStakeModal(...e)),class:"button-dark"}," Stake "),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>r.showUnstakeModal&&r.showUnstakeModal(...e)),class:"button-light"}," Unstake ")])]),(0,s._)("div",Wa,[La,(0,s._)("h1",null,(0,d.zw)(i.claimableEthForStaking)+" ETH",1),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>r.claim&&r.claim(...e)),class:"button-dark"}," Claim ")])]),(0,s._)("div",null,[Ga,(0,s.Wm)(y,{events:i.recivedFundsList,address:i.activeAccount},null,8,["events","address"])]),(0,s._)("div",null,[(0,s.Uk)(" Staking screen "),(0,s._)("div",null,[(0,s._)("div",null,"Hands token balance : "+(0,d.zw)(i.handsTokenBalance),1),(0,s._)("div",null,"Your staked amount : "+(0,d.zw)(i.handsStakedBalance),1),(0,s._)("div",null,"Share of total hands staked : "+(0,d.zw)(i.handsStakedBalance/i.totalHandsStakedBalance*100)+"%",1),(0,s._)("div",null,"Your claimable ETH for staking : "+(0,d.zw)(i.claimableEthForStaking),1),(0,s._)("div",null,"Protocol fee revenue : "+(0,d.zw)(i.protocolFeeRevenue),1),(0,s._)("div",null,"Protocol affiliate revenue : "+(0,d.zw)(e.protocolAffiliateRevenue),1),(0,s._)("div",null,"Total hands staked balance : "+(0,d.zw)(i.totalHandsStakedBalance),1),(0,s._)("div",null,[(0,s.Uk)("Your onboarded addresses : "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.onboardedAddresses,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},(0,d.zw)(e),1)))),128))]),(0,s._)("div",null,"Claimable Affiliate rewards : "+(0,d.zw)(i.claimableEthForAffiliate),1),(0,s._)("div",null,"Your affiliate link : "+(0,d.zw)(i.affiliateLink),1)]),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>r.stake&&r.stake(...e))},"Stake 10 HANDS"),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>r.unstake&&r.unstake(...e))},"Unstake 10 HANDS"),(0,s._)("button",{onClick:t[5]||(t[5]=(...e)=>r.claim&&r.claim(...e))},"Claim Staking Rewards"),(0,s._)("button",{onClick:t[6]||(t[6]=(...e)=>r.claimAffiliateRewards&&r.claimAffiliateRewards(...e))},"Claim Affiliate Rewards")])]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{show:i.showModal,"onUpdate:show":t[7]||(t[7]=e=>i.showModal=e),isStake:i.isStake,"onUpdate:isStake":t[8]||(t[8]=e=>i.isStake=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Hello world ")])),_:1},8,["show","isStake"])),[[h,i.stakeFunction,"stakeFunction"]])],64)}n(85827),n(57658);const Da=e=>((0,s.dD)("data-v-78b70d00"),e=e(),(0,s.Cn)(),e),Ha={key:0,class:"modal-container"},Na={class:"modal"},za={key:0,style:{"margin-top":"60px"}},Ua=Da((()=>(0,s._)("span",{style:{color:"#E19885","font-weight":"bold"}},"HANDS",-1))),ja={key:1,style:{"margin-top":"60px"}},$a=Da((()=>(0,s._)("span",{style:{color:"#E19885","font-weight":"bold"}},"HANDS",-1))),qa={class:"modal-button-holder"};function Ya(e,t,n,i,r,o){return(0,s.wg)(),(0,s.j4)(a.uT,{name:"fade"},{default:(0,s.w5)((()=>[n.show?((0,s.wg)(),(0,s.iD)("div",Ha,[(0,s._)("div",Na,[n.isStake?((0,s.wg)(),(0,s.iD)("h4",za,[(0,s.Uk)("Stake"),Ua])):((0,s.wg)(),(0,s.iD)("h4",ja,[(0,s.Uk)("Unstake"),$a])),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.amount=e),type:"number",placeholder:"Amount",style:{width:"100%",height:"50px","border-radius":"10px",border:"1px solid #E19885",padding:"10px","font-size":"20px","font-weight":"bold",color:"#E19885","text-align":"center","margin-top":"20px","margin-bottom":"20px"}},null,512),[[a.nr,r.amount]]),(0,s._)("div",qa,[n.isStake?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button-dark",onClick:t[1]||(t[1]=(...e)=>o.stake&&o.stake(...e))}," Stake ")):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"button-dark",onClick:t[2]||(t[2]=(...e)=>o.unstake&&o.unstake(...e))}," Unstake ")),(0,s._)("button",{class:"button-light",onClick:t[3]||(t[3]=(...e)=>o.toggleShow&&o.toggleShow(...e))}," Close ")])])])):(0,s.kq)("",!0)])),_:1})}var Va=n(15941);const Za={data(){return{amount:0}},model:{prop:"show",event:"update:show"},props:{show:{type:Boolean,default:!1},isStake:{type:Boolean,default:!0},stakeFunction:{type:Function,default:()=>{}}},methods:{toggleShow(){this.$emit("update:show",!this.show)},stake(){this.$store.dispatch("stake",this.amount.toString())},unstake(){this.$store.dispatch("unstake",this.amount.toString())}},computed:{isStaking(){return this.$store.state.isStaking},isUnstaking(){return this.$store.state.isUnstaking}},created(){Va.log(this.move)}},Ka=(0,et.Z)(Za,[["render",Ya],["__scopeId","data-v-78b70d00"]]),Ja=Ka,Xa=e=>((0,s.dD)("data-v-6c71ea0e"),e=e(),(0,s.Cn)(),e),Qa={style:{margin:"0 80px"}},es={style:{"table-layout":"fixed"}},ts=Xa((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"star-symbol-table"}),(0,s._)("p",null,"Date")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"clock-symbol-table"}),(0,s._)("p",null,"Protocol Revenue")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user1-symbol-table"}),(0,s._)("p",null,"Your earnings")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user2-symbol-table"}),(0,s._)("p",null,"Your stake")])])])],-1))),ns={class:"result"},as={class:"score"},ss={class:"earned"},is={class:"rounds"},rs={class:"time"};function os(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",Qa,[(0,s._)("table",es,[ts,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.selectedData,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",ns,(0,d.zw)(e.timestamp),1),(0,s._)("td",as,(0,d.zw)(e.amount),1),(0,s._)("td",ss,(0,d.zw)(e.yourStaked/e.totalStaked*e.amount),1),(0,s._)("td",is,(0,d.zw)(e.yourStaked)+" / "+(0,d.zw)(e.totalStaked)+" HANDS",1),(0,s._)("td",rs,(0,d.zw)(e.time),1)])))),128))])])])}var ls=n(15941);const ds={components:{GameMove:Re,ProfileItem:nt},data(){return{selectedTab:"Completed"}},props:{events:{type:Array},address:{type:String}},computed:{selectedData(){return ls.log("profile game list",this.events),this.events}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}},us=(0,et.Z)(ds,[["render",os],["__scopeId","data-v-6c71ea0e"]]),ps=us;var cs=n(15941);const ys={components:{ModalStake:Ja,ListStaking:ps},data(){return{stakingContract:null,handsTokenContract:null,affiliateContract:null,activeAccount:null,handsTokenBalance:0,handsStakedBalance:0,totalHandsStakedBalance:0,stakerAmount:0,claimableEthForStaking:0,claimableEthForAffiliate:0,affiliateLink:null,onboardedAddresses:[],protocolFeeRevenue:0,totalStakedPerBlock:null,showModal:!1,isStake:!1,stakeFunction:()=>{cs.log("stakeFunction")},yourStakeAtBlock:{},totalStakeAtBlock:{},recivedFundsList:[],stakeEvents:[],unstakeEvents:[],recievedFundsEvents:[],handledEventIds:new Set}},computed:{provider(){return this.$store.state.provider},getActiveAccount(){var e;return null===(e=this.activeAccount)||void 0===e?void 0:e.toLowerCase()},getWeb3(){return new(ve())(this.provider)}},mounted(){cs.log("provider",this.provider),cs.log("mainContracts",me)},watch:{provider:{handler(e,t){cs.log("provider changed",e),e&&(cs.log("provider changed",e),this.init())},immediate:!0}},methods:{async init(){await this.setAccount(),await this.setContracts(),this.setHandsTokenBalance(),this.setHandsStakedBalance(),this.setTotalHandsStakedAmount(),this.setClaimableEthForStaking(),this.setClaimableEthForAffiliate(),this.setProtocolFeeRevenue(),this.fetchPastEvents(),this.subscribeToEvents()},async setAccount(){const e=await this.getWeb3.eth.getAccounts();cs.log("accounts",e),this.activeAccount=e[0]},async setContracts(){this.stakingContract=new this.getWeb3.eth.Contract(me.deployedAbis.Staking,me.deployedContracts.Staking),this.$store.commit("setStakeContract",this.stakingContract),this.handsTokenContract=new this.getWeb3.eth.Contract(me.deployedAbis.HandsToken,me.deployedContracts.HandsToken),this.$store.commit("setHandsTokenContract",this.handsTokenContract),this.affiliateContract=new this.getWeb3.eth.Contract(me.deployedAbis.Affiliate,me.deployedContracts.Affiliate)},async setHandsTokenBalance(){if(!this.handsTokenContract)return 0;const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18,setInterval((async()=>{const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18}),5e3)},async setHandsStakedBalance(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18}),5e3)},async setTotalHandsStakedAmount(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18}),5e3)},async setClaimableEthForStaking(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18}),5e3)},async setClaimableEthForAffiliate(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18,setInterval((async()=>{const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18}),5e3)},async setOnboardedAddresses(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e,setInterval((async()=>{const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e}),5e3)},async setProtocolFeeRevenue(){const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18,setInterval((async()=>{const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18}),5e3)},addToHandledEvents(e,t){const n=`${e.transactionHash}-${t}-${e.logIndex}`;this.handledEventIds.add(n)},async stake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e7,n=(await this.handsTokenContract.methods.approve(me.deployedContracts.Staking,this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}),await this.stakingContract.methods.stake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}));return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),cs.log("Staked",n),n}catch(e){return cs.error("Error staking. Message:",e.message),e.reason&&cs.error("Error reason:",e.reason),cs.error("Error stack trace:",e.stack),e}},async unstake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.unstake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),cs.log("Unstaked",n),n}catch(e){return cs.log("Error unstaking",e),e}},showStakeModal(){this.showModal=!0,this.isStake=!0,this.stakeFunction=this.stake},showUnstakeModal(){this.showModal=!0,this.isStake=!1,this.stakeFunction=this.unstake},async claim(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),cs.log("Claimed",n),n}catch(e){return cs.log("Error claiming",e),e}},async claimAffiliateRewards(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),cs.log("Claimed",n),n}catch(e){return cs.log("Error claiming",e),e}},async registerAsConsumer(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.registerAsConsumer("0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266").send({from:this.activeAccount,gasPrice:e,gasLimit:t});return cs.log("Registered as consumer",n),n}catch(e){throw cs.log("Error registering as a consumer:",e),e}},handleStakingEvent(e){cs.log("Staking event stakerman",e);const{staker:t,amount:n}=e.returnValues,a=e.blockNumber;t.toLowerCase()===this.activeAccount.toLowerCase()&&(this.yourStakeAtBlock[a]?this.yourStakeAtBlock[a]+=parseInt(n):this.yourStakeAtBlock[a]=parseInt(n)),this.totalStakeAtBlock[a]?this.totalStakeAtBlock[a]+=parseInt(n):this.totalStakeAtBlock[a]=parseInt(n)},handleUnstakingEvent(e){cs.log("Unstaking event",e);const{staker:t,amount:n}=e.returnValues,a=e.blockNumber;t.toLowerCase()===this.activeAccount.toLowerCase()&&(this.yourStakeAtBlock[a]?this.yourStakeAtBlock[a]-=parseInt(n):this.yourStakeAtBlock[a]=parseInt(n)),this.totalStakeAtBlock[a]?this.totalStakeAtBlock[a]-=parseInt(n):this.totalStakeAtBlock[a]=parseInt(n)},async handleRecievedFundsForStaking(e){var t;cs.log("Recieved funds for staking event",e);const{amount:n}=e.returnValues,a=await this.getWeb3.eth.getBlock(e.blockNumber),s=a.timestamp,i=null===(t=Object.keys(this.totalStakeAtBlock))||void 0===t?void 0:t.reduce(((t,n)=>n<=e.blockNumber&&n>t?n:t),0),r=this.totalStakeAtBlock[i],o=this.yourStakeAtBlock[i];this.recivedFundsList.push({timestamp:s,amount:n,yourStake:o,totalStaked:r})},async subscribeToEvents(){const e=this.stakingContract,t=this.activeAccount;cs.log("Polling for events..."),cs.log("contract:",e);const n=["Staked","Unstaked","ReceivedFundsForStaking"],a={Staked:this.handleStakingEvent,Unstaked:this.handleUnstakingEvent,ReceivedFundsForStaking:this.handleRecievedFundsForStaking},s=1e3;let i=await this.getBlockNumber();setInterval((async()=>{const s=await this.getBlockNumber();for(const r of n){const n=await e.getPastEvents(r,{fromBlock:i+1,toBlock:s});n.forEach((e=>{const n=`${e.transactionHash}-${r}-${e.logIndex}`;this.handledEventIds.has(n)||(cs.log(`New ${r} event detected:`,e),a[r].call(this,e,t),this.handledEventIds.add(n))}))}i=s,cs.log("lastBlockChecked:",i)}),s)},async fetchStakeEvents(e){const t=this.stakingContract,n=await t.getPastEvents("Staked",{fromBlock:e});this.stakeEvents=n},async fetchUnstakeEvents(e){const t=this.stakingContract,n=await t.getPastEvents("Unstaked",{fromBlock:e});this.unstakeEvents=n},async fetchRecievedFundsEvents(e){const t=this.stakingContract,n=await t.getPastEvents("ReceivedFundsForStaking",{fromBlock:e});this.recievedFundsEvents=n},processEvents(){this.stakeEvents.forEach((e=>{this.handleStakingEvent(e),this.addToHandledEvents(e,"Staked")})),this.unstakeEvents.forEach((e=>{this.handleUnstakingEvent(e),this.addToHandledEvents(e,"Unstaked")})),this.recievedFundsEvents.forEach((e=>{this.handleRecievedFundsForStaking(e),this.addToHandledEvents(e,"ReceivedFundsForStaking")}))},async fetchPastEvents(){const e=31290509;await this.fetchStakeEvents(e),await this.fetchUnstakeEvents(e),await this.fetchRecievedFundsEvents(e),this.processEvents()},async getBlockNumber(){return await this.getWeb3.eth.getBlockNumber()}}},ms=(0,et.Z)(ys,[["render",Oa]]),hs=ms,gs={style:{gap:"50px"},class:"content staking-view"},vs=(0,s._)("div",{style:{"margin-bottom":"56"},class:"profile-big"},null,-1),bs=(0,s._)("p",null,"Your Affiliate Rewards",-1),fs={style:{display:"flex","justify-content":"center",gap:"40px","align-items":"end"}},ws={style:{margin:"0","margin-top":"-20px","margin-bottom":"-20px",padding:"0","align-items":"end","font-size":"100px"}},Ts=(0,s._)("span",{style:{"font-size":"50px"},class:"currency-symbol"},"ETH",-1),ks={style:{display:"flex","margin-top":"60px","margin-bottom":"90px"}},Cs=(0,s._)("p",null,"Your Onboarded Users",-1);function As(e,t,n,a,i,r){var o,l,u,p;const c=(0,s.up)("router-link"),y=(0,s.up)("list-affiliate"),m=(0,s.up)("modal-stake"),h=(0,s.Q2)("modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",gs,[(0,s.Wm)(c,{class:"back",to:"/"}),vs,bs,(0,s._)("div",fs,[(0,s._)("h1",ws,[(0,s.Uk)((0,d.zw)(null===(o=this.claimableEthForAffiliate)||void 0===o?void 0:o.toString().split(".")[0])+"."+(0,d.zw)(null!==(l=null===(u=this.claimableEthForAffiliate)||void 0===u||null===(p=u.toString().split(".")[1])||void 0===p?void 0:p.substring(0,4))&&void 0!==l?l:"00")+" ",1),Ts])]),(0,s._)("div",ks,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.claimAffiliateRewards&&r.claimAffiliateRewards(...e)),class:"button-dark"}," Claim Rewards "),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>r.copyAffiliateLink&&r.copyAffiliateLink(...e)),class:"button-light"}," Copy Link ")]),(0,s._)("div",null,[Cs,(0,s.Wm)(y,{events:r.onboardedConsumerList,address:i.activeAccount},null,8,["events","address"])]),(0,s._)("div",null,[(0,s.Uk)(" Staking screen "),(0,s._)("div",null,[(0,s._)("div",null,"Hands token balance : "+(0,d.zw)(i.handsTokenBalance),1),(0,s._)("div",null,"Your staked amount : "+(0,d.zw)(i.handsStakedBalance),1),(0,s._)("div",null,"Share of total hands staked : "+(0,d.zw)(i.handsStakedBalance/i.totalHandsStakedBalance*100)+"%",1),(0,s._)("div",null,"Your claimable ETH for staking : "+(0,d.zw)(i.claimableEthForStaking),1),(0,s._)("div",null,"Protocol fee revenue : "+(0,d.zw)(i.protocolFeeRevenue),1),(0,s._)("div",null,"Protocol affiliate revenue : "+(0,d.zw)(e.protocolAffiliateRevenue),1),(0,s._)("div",null,"Total hands staked balance : "+(0,d.zw)(i.totalHandsStakedBalance),1),(0,s._)("div",null,[(0,s.Uk)("Your onboarded addresses : "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.onboardedAddresses,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},(0,d.zw)(e),1)))),128))]),(0,s._)("div",null,"Claimable Affiliate rewards : "+(0,d.zw)(i.claimableEthForAffiliate),1),(0,s._)("div",null,"Your affiliate link : "+(0,d.zw)(i.affiliateLink),1)]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>r.stake&&r.stake(...e))},"Stake 10 HANDS"),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>r.unstake&&r.unstake(...e))},"Unstake 10 HANDS"),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>r.claim&&r.claim(...e))},"Claim Staking Rewards"),(0,s._)("button",{onClick:t[5]||(t[5]=(...e)=>r.claimAffiliateRewards&&r.claimAffiliateRewards(...e))},"Claim Affiliate Rewards")])]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(m,{show:i.showModal,"onUpdate:show":t[6]||(t[6]=e=>i.showModal=e),isStake:i.isStake,"onUpdate:isStake":t[7]||(t[7]=e=>i.isStake=e)},{default:(0,s.w5)((()=>[(0,s.Uk)(" Hello world ")])),_:1},8,["show","isStake"])),[[h,i.stakeFunction,"stakeFunction"]])],64)}const Ss=e=>((0,s.dD)("data-v-2845a109"),e=e(),(0,s.Cn)(),e),Ms={style:{margin:"0 80px"}},_s={style:{"table-layout":"fixed"}},Is=Ss((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"star-symbol-table"}),(0,s._)("p",null,"Time Joined")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"clock-symbol-table"}),(0,s._)("p",null,"User")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user1-symbol-table"}),(0,s._)("p",null,"Total Revenue Generated")])]),(0,s._)("th",null,[(0,s._)("div",{class:"table-header-item"},[(0,s._)("div",{class:"user2-symbol-table"}),(0,s._)("p",null,"Revenue Timestamps")])])])],-1))),Ps={class:"result"},Es={class:"earned"},Rs={class:"round",colspan:"2"},xs={class:"rounds-container"};function Fs(e,t,n,a,i,r){const o=(0,s.up)("profile-item");return(0,s.wg)(),(0,s.iD)("div",Ms,[(0,s._)("table",_s,[Is,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.selectedData,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Ps,(0,d.zw)(e.timestamp),1),(0,s.Wm)(o,{address:e.user},null,8,["address"]),(0,s._)("td",Es,(0,d.zw)(e.totalRevenue),1),(0,s._)("td",Rs,[(0,s._)("ul",xs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.revenueTimestamps,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"rounds-list"},[(0,s._)("p",null,(0,d.zw)(e.amount)+" at "+(0,d.zw)(e.timestamp),1)])))),128))])])])))),128))])])])}var Bs=n(15941);const Ws={components:{GameMove:Re,ProfileItem:nt},data(){return{selectedTab:"Completed"}},props:{events:{type:Array},address:{type:String}},computed:{selectedData(){return Bs.log("profile game list",this.events),this.events}},methods:{truncateAddress(e){return(null===e||void 0===e?void 0:e.slice(0,6))+"..."+(null===e||void 0===e?void 0:e.slice(-4))}}},Ls=(0,et.Z)(Ws,[["render",Fs],["__scopeId","data-v-2845a109"]]),Gs=Ls;var Os=n(15941);const Ds={components:{ModalStake:Ja,ListAffiliate:Gs},data(){return{stakingContract:null,handsTokenContract:null,affiliateContract:null,activeAccount:null,handsTokenBalance:0,handsStakedBalance:0,totalHandsStakedBalance:0,stakerAmount:0,claimableEthForStaking:0,claimableEthForAffiliate:0,affiliateLink:null,onboardedAddresses:[],protocolFeeRevenue:0,totalStakedPerBlock:null,showModal:!1,isStake:!1,stakeFunction:()=>{Os.log("stakeFunction")},yourConsumers:[],timeConsumerJoined:{},totalRewardsFromConsumer:{},rewardsArrayFromConsumer:{},recivedFundsList:[],consumerRegisteredEvents:[],rewardRecievedEvents:[],handledEventIds:new Set}},computed:{provider(){return this.$store.state.provider},getActiveAccount(){var e;return null===(e=this.activeAccount)||void 0===e?void 0:e.toLowerCase()},getWeb3(){return new(ve())(this.provider)},onboardedConsumerList(){return this.yourConsumers.map((e=>({user:e,totalRevenue:this.totalRewardsFromConsumer[e],revenueTimestamps:this.rewardsArrayFromConsumer[e],timestamp:this.timeConsumerJoined[e]})))}},mounted(){Os.log("provider",this.provider),Os.log("mainContracts",me)},watch:{provider:{handler(e,t){Os.log("provider changed",e),e&&(Os.log("provider changed",e),this.init())},immediate:!0}},methods:{copyAffiliateLink(){const e=new URL(window.location.href);e.searchParams.set("ref",this.activeAccount),navigator.clipboard.writeText(e.href),alert("Copied to clipboard!")},async init(){await this.setAccount(),await this.setContracts(),this.setHandsTokenBalance(),this.setHandsStakedBalance(),this.setTotalHandsStakedAmount(),this.setClaimableEthForStaking(),this.setClaimableEthForAffiliate(),this.setProtocolFeeRevenue(),this.fetchPastEvents(),this.subscribeToEvents()},async setAccount(){const e=await this.getWeb3.eth.getAccounts();Os.log("accounts",e),this.activeAccount=e[0]},async setContracts(){this.stakingContract=new this.getWeb3.eth.Contract(me.deployedAbis.Staking,me.deployedContracts.Staking),this.handsTokenContract=new this.getWeb3.eth.Contract(me.deployedAbis.HandsToken,me.deployedContracts.HandsToken),this.affiliateContract=new this.getWeb3.eth.Contract(me.deployedAbis.Affiliate,me.deployedContracts.Affiliate)},async setHandsTokenBalance(){if(!this.handsTokenContract)return 0;const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18,setInterval((async()=>{const e=await this.handsTokenContract.methods.balanceOf(this.activeAccount).call();this.handsTokenBalance=e/10**18}),5e3)},async setHandsStakedBalance(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.stakedAmount(this.activeAccount).call();this.handsStakedBalance=e/10**18}),5e3)},async setTotalHandsStakedAmount(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewTotalStaked().call();this.totalHandsStakedBalance=e/10**18}),5e3)},async setClaimableEthForStaking(){if(!this.stakingContract)return 0;const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18,setInterval((async()=>{const e=await this.stakingContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForStaking=e/10**18}),5e3)},async setClaimableEthForAffiliate(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18,setInterval((async()=>{const e=await this.affiliateContract.methods.viewClaimableRewards(this.activeAccount).call();this.claimableEthForAffiliate=e/10**18}),5e3)},async setOnboardedAddresses(){if(!this.affiliateContract)return 0;const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e,setInterval((async()=>{const e=await this.affiliateContract.methods.getConsumersOfAffiliate(this.activeAccount).call();this.onboardedAddresses=e}),5e3)},async setProtocolFeeRevenue(){const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18,setInterval((async()=>{const e=await this.getWeb3.eth.getBalance(me.deployedContracts.Bank);this.protocolFeeRevenue=e/10**18}),5e3)},async stake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e7,n=(await this.handsTokenContract.methods.approve(me.deployedContracts.Staking,this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}),await this.stakingContract.methods.stake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t}));return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),Os.log("Staked",n),n}catch(e){return Os.error("Error staking. Message:",e.message),e.reason&&Os.error("Error reason:",e.reason),Os.error("Error stack trace:",e.stack),e}},async unstake(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.unstake(this.getWeb3.utils.toWei("10","ether")).send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),Os.log("Unstaked",n),n}catch(e){return Os.log("Error unstaking",e),e}},showStakeModal(){this.showModal=!0,this.isStake=!0,this.stakeFunction=this.stake},showUnstakeModal(){this.showModal=!0,this.isStake=!1,this.stakeFunction=this.unstake},async claim(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.stakingContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),Os.log("Claimed",n),n}catch(e){return Os.log("Error claiming",e),e}},async claimAffiliateRewards(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.claimRewards().send({from:this.activeAccount,gasPrice:e,gasLimit:t});return await this.getWeb3.eth.getTransactionReceipt(n.transactionHash),Os.log("Claimed",n),n}catch(e){return Os.log("Error claiming",e),e}},async registerAsConsumer(){try{const e=this.getWeb3.utils.toWei("0.1","gwei"),t=3e6,n=await this.affiliateContract.methods.registerAsConsumer("0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266").send({from:this.activeAccount,gasPrice:e,gasLimit:t});return Os.log("Registered as consumer",n),n}catch(e){throw Os.log("Error registering as a consumer:",e),e}},async handleConsumerRegisteredEvent(e){Os.log("Consumer registered event",e);const{consumer:t,affiliate:n}=e.returnValues,a=await this.getWeb3.eth.getBlock(e.blockNumber),s=a.timestamp;n.toLowerCase()===this.activeAccount.toLowerCase()&&(this.yourConsumers.push(t),this.timeConsumerJoined[t]=s)},async handleRewardRecievedEvent(e){Os.log("Reward recieved event",e);const{affiliate:t,consumer:n,amount:a}=e.returnValues,s=await this.getWeb3.eth.getBlock(e.blockNumber),i=s.timestamp;this.totalRewardsFromConsumer[n]?this.totalRewardsFromConsumer[n]+=parseInt(a):this.totalRewardsFromConsumer[n]=parseInt(a),this.rewardsArrayFromConsumer[n]?this.rewardsArrayFromConsumer[n].push({amount:parseFloat(a),timestamp:i}):this.rewardsArrayFromConsumer[n]=[parseInt(a)]},async subscribeToEvents(){const e=this.affiliateContract,t=this.activeAccount;Os.log("Polling for events..."),Os.log("contract:",e);const n=["ConsumerRegistered","RewardRecieved"],a={ConsumerRegistered:this.handleConsumerRegisteredEvent,RewardRecieved:this.handleRewardRecievedEvent},s=1e3;let i=await this.getBlockNumber();setInterval((async()=>{const s=await this.getBlockNumber();for(const r of n){const n=await e.getPastEvents(r,{fromBlock:i+1,toBlock:s});n.forEach((e=>{const n=`${e.transactionHash}-${r}-${e.logIndex}`;this.handledEventIds.has(n)||(Os.log(`New ${r} event detected:`,e),a[r].call(this,e,t),this.handledEventIds.add(n))}))}i=s,Os.log("lastBlockChecked:",i)}),s)},async fetchConsumerRegisteredEvents(e){const t=this.affiliateContract,n=await t.getPastEvents("ConsumerRegistered",{fromBlock:e});this.consumerRegisteredEvents=n},async fetchRewardRecievedEvents(e){const t=this.affiliateContract,n=await t.getPastEvents("RewardRecieved",{fromBlock:e});this.rewardRecievedEvents=n},processEvents(){this.consumerRegisteredEvents.forEach((e=>{this.handleConsumerRegisteredEvent(e)})),this.rewardRecievedEvents.forEach((e=>{this.handleRewardRecievedEvent(e)}))},async fetchPastEvents(){const e=31290509;await this.fetchConsumerRegisteredEvents(e),await this.fetchRewardRecievedEvents(e),this.processEvents()},async getBlockNumber(){return await this.getWeb3.eth.getBlockNumber()}}},Hs=(0,et.Z)(Ds,[["render",As]]),Ns=Hs,zs=[{path:"/",name:"home",component:On},{path:"/profile/:id",name:"profile",component:ma},{path:"/staking",name:"staking",component:hs},{path:"/affiliate",name:"affiliate",component:Ns}],Us=(0,In.p7)({history:(0,In.PO)("/"),routes:zs}),js=Us;(0,a.ri)(_n).use(Pt).use(js).mount("#app")},993:()=>{},35883:()=>{},36563:()=>{},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},56619:()=>{},77108:()=>{},71156:()=>{},52361:()=>{},94616:()=>{},50522:()=>{},66882:()=>{},55024:()=>{}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{n.amdO={}})(),(()=>{var e=[];n.O=(t,a,s,i)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,s,i]=e[u],o=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{233:"f9e70079",314:"399aa542",348:"122ff594",462:"8693b786",503:"7a838632",537:"2d419592",550:"c683c210",737:"0ca0c14d",796:"b2ffcfe3",845:"1749e940",901:"478802ae",951:"5aa61914"}[e]+".js"})(),(()=>{n.miniCssF=e=>{}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="Handsy.io:";n.l=(a,s,i,r)=>{if(e[a])e[a].push(s);else{var o,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var p=d[u];if(p.getAttribute("src")==a||p.getAttribute("data-webpack")==t+i){o=p;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=a),e[a]=[s];var c=(t,n)=>{o.onerror=o.onload=null,clearTimeout(y);var s=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(n))),t)return t(n)},y=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{var e={143:0};n.f.j=(t,a)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var i=new Promise(((n,a)=>s=e[t]=[n,a]));a.push(s[2]=i);var r=n.p+n.u(t),o=new Error,l=a=>{if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,s[1](o)}};n.l(r,l,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,a)=>{var s,i,[r,o,l]=a,d=0;if(r.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var u=l(n)}for(t&&t(a);d<r.length;d++)i=r[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkHandsy_io"]=self["webpackChunkHandsy_io"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[998],(()=>n(43782)));a=n.O(a)})();
//# sourceMappingURL=app.4397fb39.js.map