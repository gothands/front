(self["webpackChunkHandsy_io"]=self["webpackChunkHandsy_io"]||[]).push([[375],{84733:(e,t,n)=>{"use strict";n.d(t,{PhantomAdapter:()=>D});n(21703);var r=n(47327),o=(n(38862),n(83753),n(74916),n(95082));n(57658),n(81299),n(41817),n(21039),n(43793),n(25383),n(72620),n(38901),n(19157),n(46568);class i extends Error{constructor(e){let{code:t,message:n,data:r}=e;if(!Number.isInteger(t))throw new Error("code must be an integer");if(!n||"string"!==typeof n)throw new Error("message must be string");super(n),_defineProperty(this,"code",void 0),_defineProperty(this,"data",void 0),this.code=t,void 0!==r&&(this.data=r)}toString(){return stringify({code:this.code,message:this.message,data:this.data,stack:this.stack})}}Symbol("IGNORE_SUBSTREAM");n(2160);var a=n(50815);function s(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(o){const e=o;return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&n&&0!==r}}class l{constructor(){(0,r.Z)(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=t}}class d{constructor(e,t){(0,r.Z)(this,"storage",void 0),(0,r.Z)(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch(n){}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instance){let n;n="local"===t&&s("localStorage")?window.localStorage:"session"===t&&s("sessionStorage")?window.sessionStorage:new l,this.instance=new this(e,n)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){const t=JSON.parse(this.storage.getItem(this._storeKey)||"{}");return t[e]}set(e,t){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(n))}}(0,r.Z)(d,"instance",void 0);(0,o.Z)((0,o.Z)({},a.X_),a.Ad);var c=n(17228),u=(n(26699),n(73148),n(89245)),f=n.n(u);const h=f().getLogger("http-helpers");h.setLevel(u.levels.INFO);n(61598);const b={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},p={EIP155:"eip155",SOLANA:"solana",XRPL:"xrpl",MULTICHAIN:"multichain"};class g extends c.s{constructor(e,t){super(t),(0,r.Z)(this,"code",void 0),(0,r.Z)(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class y extends g{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new y(e,`${y.messages[e]}, ${t}`)}static notFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5001,e)}static notInstalled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5002,e)}static notReady(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5003,e)}static windowBlocked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5004,e)}static windowClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5005,e)}static incompatibleChainNameSpace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5006,e)}static duplicateAdapterError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5007,e)}static invalidProviderConfigError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5008,e)}static providerNotReadyError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5009,e)}static rpcConnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5010,e)}static invalidParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5011,e)}static invalidNetwork(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.fromCode(5013,e)}}(0,r.Z)(y,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class w extends g{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new w(e,`${w.messages[e]}. ${t}`)}static connectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5111,e)}static disconnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5112,e)}static notConnectedError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5113,e)}static popupClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5114,e)}static mfaEnabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5115,e)}static chainConfigNotAdded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5116,e)}static unsupportedOperation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5117,e)}static coreKitKeyNotFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5118,e)}static userNotLoggedIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w.fromCode(5119,e)}}(0,r.Z)(w,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class _ extends g{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new _(e,`${_.messages[e]}, ${t}`)}static chainIDNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5201,e)}static operationNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5202,e)}static chainNamespaceNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5203,e)}}(0,r.Z)(_,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class m extends g{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new _(e,`${m.messages[e]}, ${t}`)}static invalidRequestArgs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5301,e)}static invalidRequestMethod(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5302,e)}static invalidRequestParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.fromCode(5303,e)}}(0,r.Z)(m,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const v={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},E=(0,o.Z)({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},v),S=(0,o.Z)({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},v),R=(0,o.Z)((0,o.Z)({},S),E),A=(v.OPENLOGIN,v.WALLET_CONNECT_V2,E.TORUS_SOLANA,E.PHANTOM,E.SOLFLARE,E.SLOPE,S.TORUS_EVM,S.METAMASK,S.COINBASE,{EXTERNAL:"external",IN_APP:"in_app"}),T={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},N=(0,o.Z)((0,o.Z)({},T),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});var I=f().getLogger("web3auth-logger");var O=n(3899),k=n(14733);function P(e,t,n){return new Promise(((r,o)=>{n>0?setTimeout((async()=>{const i=await e();i&&r(i),i||P(e,t,n-1).then((e=>(r(e),e))).catch((e=>o(e)))}),t):r(!1)}))}const C=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};const n="undefined"!==typeof window&&!(null===(e=window.solana)||void 0===e||!e.isPhantom);if(n)return window.solana;const r=await P((()=>{var e;return null===(e=window.solana)||void 0===e?void 0:e.isPhantom}),t.interval,t.count);return r?window.solana:null};class D extends O.v{constructor(){super(...arguments),(0,r.Z)(this,"name",R.PHANTOM),(0,r.Z)(this,"adapterNamespace",p.SOLANA),(0,r.Z)(this,"currentChainNamespace",b.SOLANA),(0,r.Z)(this,"type",A.EXTERNAL),(0,r.Z)(this,"status",T.NOT_READY),(0,r.Z)(this,"_wallet",null),(0,r.Z)(this,"phantomProvider",null),(0,r.Z)(this,"_onDisconnect",(()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===T.CONNECTED?T.READY:T.NOT_READY,this.emit(N.DISCONNECTED))}))}get isWalletConnected(){var e;return!(null===(e=this._wallet)||void 0===e||!e.isConnected||this.status!==T.CONNECTED)}get provider(){return this.status!==T.NOT_READY&&this.phantomProvider?this.phantomProvider:null}set provider(e){throw new Error("Not implemented")}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(await super.init(e),super.checkInitializationRequirements(),this._wallet=await C({interval:500,count:3}),!this._wallet)throw y.notInstalled();this.phantomProvider=new k.kL({config:{chainConfig:this.chainConfig}}),this.status=T.READY,this.emit(N.READY,R.PHANTOM);try{I.debug("initializing phantom adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(t){I.error("Failed to connect with cached phantom provider",t),this.emit("ERRORED",t)}}async connect(){var e=this;try{if(super.checkConnectionRequirements(),this.status=T.CONNECTING,this.emit(N.CONNECTING,{adapter:R.PHANTOM}),!this._wallet)throw y.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const n=this._wallet._handleDisconnect;try{await new Promise(((t,r)=>{const o=async()=>{await this.connectWithProvider(this._wallet),t(this.provider)};this._wallet?(this._wallet.once("connect",o),this._wallet._handleDisconnect=function(){r(y.windowClosed());for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n.apply(e._wallet,o)},this._wallet.connect().catch((e=>{r(e)}))):r(y.notInstalled())}))}catch(t){if(t instanceof g)throw t;throw w.connectionError(null===t||void 0===t?void 0:t.message)}finally{this._wallet._handleDisconnect=n}}if(!this._wallet.publicKey)throw w.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(t){throw this.status=T.READY,this.rehydrated=!1,this.emit(N.ERRORED,t),t}}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnectSession();try{var t;await(null===(t=this._wallet)||void 0===t?void 0:t.disconnect()),e.cleanup&&(this.status=T.NOT_READY,this.phantomProvider=null,this._wallet=null),await super.disconnect()}catch(n){this.emit(N.ERRORED,w.disconnectionError(null===n||void 0===n?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw w.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkAddChainRequirements(e,n),null===(t=this.phantomProvider)||void 0===t||t.addChain(e),this.addChainConfig(e)}async switchChain(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkSwitchChainRequirements(e,n),await(null===(t=this.phantomProvider)||void 0===t?void 0:t.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async connectWithProvider(e){if(!this.phantomProvider)throw w.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(e),this.status=T.CONNECTED,this.emit(N.CONNECTED,{adapter:R.PHANTOM,reconnected:this.rehydrated}),this.provider}}},37591:(e,t,n)=>{"use strict";const{AbortError:r,codes:o}=n(49606),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=n(17091),l=n(55961),{ERR_INVALID_ARG_TYPE:d}=o,c=(e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,n){if(c(t,"signal"),!i(n)&&!a(n))throw new d("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const n=i(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),l(t,(()=>e.removeEventListener("abort",n)))),t}},96618:(e,t,n)=>{"use strict";n(41817);const{StringPrototypeSlice:r,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=n(19893),{Buffer:s}=n(15361),{inspect:l}=n(63169);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;while(null!==(t=t.next))n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;while(n)i(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[o](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,o=0;do{const i=n.data;if(!(e>i.length)){e===i.length?(t+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(i,0,e),this.head=n,n.data=r(i,e));break}t+=i,e-=i.length,++o}while(null!==(n=n.next));return this.length-=o,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,o=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(i(t,s,n-e),++o,r.next?this.head=r.next:this.head=this.tail=null):(i(t,new a(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}i(t,s,n-e),e-=s.length,++o}while(null!==(r=r.next));return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},77280:(e,t,n)=>{"use strict";n(57658);const{pipeline:r}=n(82361),o=n(24925),{destroyer:i}=n(50208),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:d,isTransformStream:c,isWritableStream:u,isReadableStream:f}=n(17091),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:p}}=n(49606),g=n(55961);e.exports=function(...e){if(0===e.length)throw new p("streams");if(1===e.length)return o.from(e[0]);const t=[...e];if("function"===typeof e[0]&&(e[0]=o.from(e[0])),"function"===typeof e[e.length-1]){const t=e.length-1;e[t]=o.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||d(e[r])){if(r<e.length-1&&!(s(e[r])||f(e[r])||c(e[r])))throw new b(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(l(e[r])||u(e[r])||c(e[r])))throw new b(`streams[${r}]`,t[r],"must be writable")}let n,y,w,_,m;function v(e){const t=_;_=null,t?t(e):e?m.destroy(e):A||R||m.destroy()}const E=e[0],S=r(e,v),R=!!(l(E)||u(E)||c(E)),A=!!(s(S)||f(S)||c(S));if(m=new o({writableObjectMode:!(null===E||void 0===E||!E.writableObjectMode),readableObjectMode:!(null===S||void 0===S||!S.writableObjectMode),writable:R,readable:A}),R){if(a(E))m._write=function(e,t,r){E.write(e,t)?r():n=r},m._final=function(e){E.end(),y=e},E.on("drain",(function(){if(n){const e=n;n=null,e()}}));else if(d(E)){const e=c(E)?E.writable:E,t=e.getWriter();m._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(o){r(o)}},m._final=async function(e){try{await t.ready,t.close().catch((()=>{})),y=e}catch(n){e(n)}}}const e=c(S)?S.readable:S;g(e,(()=>{if(y){const e=y;y=null,e()}}))}if(A)if(a(S))S.on("readable",(function(){if(w){const e=w;w=null,e()}})),S.on("end",(function(){m.push(null)})),m._read=function(){while(1){const e=S.read();if(null===e)return void(w=m._read);if(!m.push(e))return}};else if(d(S)){const e=c(S)?S.readable:S,t=e.getReader();m._read=async function(){while(1)try{const{value:e,done:n}=await t.read();if(!m.push(e))return;if(n)return void m.push(null)}catch{return}}}return m._destroy=function(e,t){e||null===_||(e=new h),w=null,n=null,y=null,null===_?t(e):(_=t,a(S)&&i(S,e))},m}},50208:(e,t,n)=>{"use strict";const r=n(96027),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=n(49606),{Symbol:s}=n(19893),{kDestroyed:l,isDestroyed:d,isFinished:c,isServerRequest:u}=n(17091),f=s("kDestroy"),h=s("kConstruct");function b(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function p(e,t){const n=this._readableState,r=this._writableState,i=r||n;return null!==r&&void 0!==r&&r.destroyed||null!==n&&void 0!==n&&n.destroyed?("function"===typeof t&&t(),this):(b(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?g(this,e,t):this.once(f,(function(n){g(this,o(n,e),t)})),this)}function g(e,t,n){let o=!1;function i(t){if(o)return;o=!0;const i=e._readableState,a=e._writableState;b(t,a,i),a&&(a.closed=!0),i&&(i.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(y,e,t):r.nextTick(w,e)}try{e._destroy(t||null,i)}catch(t){i(t)}}function y(e,t){_(e,t),w(e)}function w(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==n&&void 0!==n&&n.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function _(e,t){const n=e._readableState,r=e._writableState;null!==r&&void 0!==r&&r.errorEmitted||null!==n&&void 0!==n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function m(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)}function v(e,t,n){const o=e._readableState,i=e._writableState;if(null!==i&&void 0!==i&&i.destroyed||null!==o&&void 0!==o&&o.destroyed)return this;null!==o&&void 0!==o&&o.autoDestroy||null!==i&&void 0!==i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),o&&!o.errored&&(o.errored=t),n?r.nextTick(_,e,t):_(e,t))}function E(e,t){if("function"!==typeof e._construct)return;const n=e._readableState,o=e._writableState;n&&(n.constructed=!1),o&&(o.constructed=!1),e.once(h,t),e.listenerCount(h)>1||r.nextTick(S,e)}function S(e){let t=!1;function n(n){if(t)return void v(e,null!==n&&void 0!==n?n:new i);t=!0;const o=e._readableState,a=e._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,n):n?v(e,n,!0):r.nextTick(R,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(o){r.nextTick(n,o)}}function R(e){e.emit(h)}function A(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function T(e){e.emit("close")}function N(e,t){e.emit("error",t),r.nextTick(T,e)}function I(e,t){e&&!d(e)&&(t||c(e)||(t=new a),u(e)?(e.socket=null,e.destroy(t)):A(e)?e.abort():A(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(N,e,t):r.nextTick(T,e),e.destroyed||(e[l]=!0))}e.exports={construct:E,destroyer:I,destroy:p,undestroy:m,errorOrDestroy:v}},24925:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=n(19893);e.exports=d;const s=n(83542),l=n(73317);a(d.prototype,s.prototype),a(d,s);{const e=i(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];d.prototype[n]||(d.prototype[n]=l.prototype[n])}}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,u;function f(){return void 0===c&&(c={}),c}r(d.prototype,{writable:{__proto__:null,...o(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(l.prototype,"writableLength")},writableFinished:{__proto__:null,...o(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},d.from=function(e){return u||(u=n(8319)),u(e,"body")}},8319:(e,t,n)=>{n(35837),n(57658);const r=n(96027),o=n(15361),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:d,isWritableNodeStream:c,isDuplexNodeStream:u}=n(17091),f=n(55961),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:p}}=n(49606),{destroyer:g}=n(50208),y=n(24925),w=n(83542),{createDeferredPromise:_}=n(63169),m=n(81778),v=globalThis.Blob||o.Blob,E="undefined"!==typeof v?function(e){return e instanceof v}:function(e){return!1},S=globalThis.AbortController||n(71927).AbortController,{FunctionPrototypeCall:R}=n(19893);class A extends y{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(e){let{promise:t,resolve:n}=_();const o=new S,i=o.signal,a=e(async function*(){while(1){const e=t;t=null;const{chunk:o,done:a,cb:s}=await e;if(r.nextTick(s),a)return;if(i.aborted)throw new h(void 0,{cause:i.reason});({promise:t,resolve:n}=_()),yield o}}(),{signal:i});return{value:a,write(e,t,r){const o=n;n=null,o({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}function N(e){const t=e.readable&&"function"!==typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable;let r,o,s,l,d,c=!!i(t),u=!!a(n);function b(e){const t=l;l=null,t?t(e):e&&d.destroy(e)}return d=new A({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===n||void 0===n||!n.writableObjectMode),readable:c,writable:u}),u&&(f(n,(e=>{u=!1,e&&g(t,e),b(e)})),d._write=function(e,t,o){n.write(e,t)?o():r=o},d._final=function(e){n.end(),o=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(o){const e=o;o=null,e()}}))),c&&(f(t,(e=>{c=!1,e&&g(t,e),b(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){d.push(null)})),d._read=function(){while(1){const e=t.read();if(null===e)return void(s=d._read);if(!d.push(e))return}}),d._destroy=function(e,i){e||null===l||(e=new h),s=null,r=null,o=null,null===l?i(e):(l=i,g(n,e),g(t,e))},d}e.exports=function e(t,n){if(u(t))return t;if(d(t))return N({readable:t});if(c(t))return N({writable:t});if(l(t))return N({writable:!1,readable:!1});if("function"===typeof t){const{value:e,write:o,final:i,destroy:a}=T(t);if(s(e))return m(A,e,{objectMode:!0,write:o,final:i,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const n=R(l,e,(e=>{if(null!=e)throw new p("nully","body",e)}),(e=>{g(t,e)}));return t=new A({objectMode:!0,readable:!1,write:o,final(e){i((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new p("Iterable, AsyncIterable or AsyncFunction",n,e)}if(E(t))return e(t.arrayBuffer());if(s(t))return m(A,t,{objectMode:!0,writable:!1});if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){const n=null!==t&&void 0!==t&&t.readable?d(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,r=null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0;return N({readable:n,writable:r})}const o=null===t||void 0===t?void 0:t.then;if("function"===typeof o){let e;return R(o,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new b(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},55961:(e,t,n)=>{const r=n(96027),{AbortError:o,codes:i}=n(49606),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:l,once:d}=n(63169),{validateAbortSignal:c,validateFunction:u,validateObject:f,validateBoolean:h}=n(90384),{Promise:b,PromisePrototypeThen:p}=n(19893),{isClosed:g,isReadable:y,isReadableNodeStream:w,isReadableStream:_,isReadableFinished:m,isReadableErrored:v,isWritable:E,isWritableNodeStream:S,isWritableStream:R,isWritableFinished:A,isWritableErrored:T,isNodeStream:N,willEmitClose:I,kIsClosedPromise:O}=n(17091);function k(e){return e.setHeader&&"function"===typeof e.abort}const P=()=>{};function C(e,t,n){var i,h;if(2===arguments.length?(n=t,t=l):null==t?t=l:f(t,"options"),u(n,"callback"),c(t.signal,"options.signal"),n=d(n),_(e)||R(e))return D(e,t,n);if(!N(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const b=null!==(i=t.readable)&&void 0!==i?i:w(e),p=null!==(h=t.writable)&&void 0!==h?h:S(e),O=e._writableState,C=e._readableState,M=()=>{e.writable||j()};let L=I(e)&&w(e)===b&&S(e)===p,x=A(e,!1);const j=()=>{x=!0,e.destroyed&&(L=!1),(!L||e.readable&&!b)&&(b&&!W||n.call(e))};let W=m(e,!1);const $=()=>{W=!0,e.destroyed&&(L=!1),(!L||e.writable&&!p)&&(p&&!x||n.call(e))},F=t=>{n.call(e,t)};let U=g(e);const H=()=>{U=!0;const t=T(e)||v(e);return t&&"boolean"!==typeof t?n.call(e,t):b&&!W&&w(e,!0)&&!m(e,!1)?n.call(e,new s):!p||x||A(e,!1)?void n.call(e):n.call(e,new s)},B=()=>{U=!0;const t=T(e)||v(e);if(t&&"boolean"!==typeof t)return n.call(e,t);n.call(e)},G=()=>{e.req.on("finish",j)};k(e)?(e.on("complete",j),L||e.on("abort",H),e.req?G():e.on("request",G)):p&&!O&&(e.on("end",M),e.on("close",M)),L||"boolean"!==typeof e.aborted||e.on("aborted",H),e.on("end",$),e.on("finish",j),!1!==t.error&&e.on("error",F),e.on("close",H),U?r.nextTick(H):null!==O&&void 0!==O&&O.errorEmitted||null!==C&&void 0!==C&&C.errorEmitted?L||r.nextTick(B):(b||L&&!y(e)||!x&&!1!==E(e))&&(p||L&&!E(e)||!W&&!1!==y(e))?C&&e.req&&e.aborted&&r.nextTick(B):r.nextTick(B);const V=()=>{n=P,e.removeListener("aborted",H),e.removeListener("complete",j),e.removeListener("abort",H),e.removeListener("request",G),e.req&&e.req.removeListener("finish",j),e.removeListener("end",M),e.removeListener("close",M),e.removeListener("finish",j),e.removeListener("end",$),e.removeListener("error",F),e.removeListener("close",H)};if(t.signal&&!U){const i=()=>{const r=n;V(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(i);else{const r=n;n=d(((...n)=>{t.signal.removeEventListener("abort",i),r.apply(e,n)})),t.signal.addEventListener("abort",i)}}return V}function D(e,t,n){let i=!1,a=P;if(t.signal)if(a=()=>{i=!0,n.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(a);else{const r=n;n=d(((...n)=>{t.signal.removeEventListener("abort",a),r.apply(e,n)})),t.signal.addEventListener("abort",a)}const s=(...t)=>{i||r.nextTick((()=>n.apply(e,t)))};return p(e[O].promise,s,s),P}function M(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(h(t.cleanup,"cleanup"),r=t.cleanup),new b(((n,o)=>{const i=C(e,t,(e=>{r&&i(),e?o(e):n()}))}))}e.exports=C,e.exports.finished=M},81778:(e,t,n)=>{"use strict";n(57658);const r=n(96027),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=n(19893),{Buffer:s}=n(15361),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:d}=n(49606).codes;function c(e,t,n){let c,u;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[i])u=!0,c=t[i]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);u=!1,c=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...n});let h=!1;async function b(e){const t=void 0!==e&&null!==e,n="function"===typeof c.throw;if(t&&n){const{value:t,done:n}=await c.throw(e);if(await t,n)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}async function p(){for(;;){try{const{value:e,done:t}=u?await c.next():c.next();if(t)f.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw h=!1,new d;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){h||(h=!0,p())},f._destroy=function(e,t){o(b(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},f}e.exports=c},48959:(e,t,n)=>{"use strict";n(30541);const{ArrayIsArray:r,ObjectSetPrototypeOf:o}=n(19893),{EventEmitter:i}=n(43793);function a(e){i.call(this,e)}function s(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",d));let a=!1;function l(){a||(a=!0,e.end())}function d(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){u(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function u(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",l),n.removeListener("close",d),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return s(n,"error",c),s(e,"error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e},e.exports={Stream:a,prependListener:s}},9208:(e,t,n)=>{"use strict";n(35837),n(57658);const r=globalThis.AbortController||n(71927).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=n(49606),{validateAbortSignal:d,validateInteger:c,validateObject:u}=n(90384),f=n(19893).Symbol("kWeak"),{finished:h}=n(55961),b=n(77280),{addAbortSignalNoValidate:p}=n(37591),{isWritable:g,isNodeStream:y}=n(17091),{ArrayPrototypePush:w,MathFloor:_,Number:m,NumberIsNaN:v,Promise:E,PromiseReject:S,PromisePrototypeThen:R,Symbol:A}=n(19893),T=A("kEmpty"),N=A("kEof");function I(e,t){if(null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),y(e)&&!g(e))throw new o("stream",e,"must be writable");const n=b(this,e);return null!==t&&void 0!==t&&t.signal&&p(t.signal,n),n}function O(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal");let n=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=_(t.concurrency)),c(n,"concurrency",1),async function*(){var o,i;const a=new r,s=this,d=[],c=a.signal,u={signal:c},f=()=>a.abort();let h,b;null!==t&&void 0!==t&&null!==(o=t.signal)&&void 0!==o&&o.aborted&&f(),null===t||void 0===t||null===(i=t.signal)||void 0===i||i.addEventListener("abort",f);let p=!1;function g(){p=!0}async function y(){try{for await(let t of s){var r;if(p)return;if(c.aborted)throw new l;try{t=e(t,u)}catch(i){t=S(i)}t!==T&&("function"===typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(g),d.push(t),h&&(h(),h=null),!p&&d.length&&d.length>=n&&await new E((e=>{b=e})))}d.push(N)}catch(i){const e=S(i);R(e,void 0,g),d.push(e)}finally{var o;p=!0,h&&(h(),h=null),null===t||void 0===t||null===(o=t.signal)||void 0===o||o.removeEventListener("abort",f)}}y();try{while(1){while(d.length>0){const e=await d[0];if(e===N)return;if(c.aborted)throw new l;e!==T&&(yield e),d.shift(),b&&(b(),b=null)}await new E((e=>{h=e}))}}finally{a.abort(),p=!0,b&&(b(),b=null)}}.call(this)}function k(e=void 0){return null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)}async function P(e,t=void 0){for await(const n of L.call(this,e,t))return!0;return!1}async function C(e,t=void 0){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!await P.call(this,(async(...t)=>!await e(...t)),t)}async function D(e,t){for await(const n of L.call(this,e,t))return n}async function M(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n),T}for await(const r of O.call(this,n,t));}function L(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n)?t:T}return O.call(this,n,t)}class x extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function j(e,t,n){var o;if("function"!==typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null===n||void 0===n?void 0:n.signal)&&d(n.signal,"options.signal");let a=arguments.length>1;if(null!==n&&void 0!==n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(e)),e}const s=new r,c=s.signal;if(null!==n&&void 0!==n&&n.signal){const e={once:!0,[f]:this};n.signal.addEventListener("abort",(()=>s.abort()),e)}let b=!1;try{for await(const r of this){var p;if(b=!0,null!==n&&void 0!==n&&null!==(p=n.signal)&&void 0!==p&&p.aborted)throw new l;a?t=await e(t,r,{signal:c}):(t=r,a=!0)}if(!b&&!a)throw new x}finally{s.abort()}return t}async function W(e){null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,r)}return t}function $(e,t){const n=O.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)}function F(e){if(e=m(e),v(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}function U(e,t=void 0){return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=F(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const o of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield o)}}.call(this)}function H(e,t=void 0){return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=F(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const o of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(!(e-- >0))return;yield o}}.call(this)}e.exports.streamReturningOperators={asIndexedPairs:k,drop:U,filter:L,flatMap:$,map:O,take:H,compose:I},e.exports.promiseReturningOperators={every:C,forEach:M,reduce:j,toArray:W,some:P,find:D}},19599:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(19893);e.exports=i;const o=n(74642);function i(e){if(!(this instanceof i))return new i(e);o.call(this,e)}r(i.prototype,o.prototype),r(i,o),i.prototype._transform=function(e,t,n){n(null,e)}},82361:(e,t,n)=>{n(35837),n(57658);const r=n(96027),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a}=n(19893),s=n(55961),{once:l}=n(63169),d=n(50208),c=n(24925),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:y}=n(49606),{validateFunction:w,validateAbortSignal:_}=n(90384),{isIterable:m,isReadable:v,isReadableNodeStream:E,isNodeStream:S,isTransformStream:R,isWebStream:A,isReadableStream:T,isReadableEnded:N}=n(17091),I=globalThis.AbortController||n(71927).AbortController;let O,k;function P(e,t,n){let r=!1;e.on("close",(()=>{r=!0}));const o=s(e,{readable:t,writable:n},(e=>{r=!e}));return{destroy:t=>{r||(r=!0,d.destroyer(e,t||new p("pipe")))},cleanup:o}}function C(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function D(e){if(m(e))return e;if(E(e))return M(e);throw new f("val",["Readable","Iterable","AsyncIterable"],e)}async function*M(e){k||(k=n(83542)),yield*k.prototype[a].call(e)}async function L(e,t,n,{end:r}){let o,a=null;const l=e=>{if(e&&(o=e),a){const e=a;a=null,e()}},d=()=>new i(((e,t)=>{o?t(o):a=()=>{o?t(o):e()}}));t.on("drain",l);const c=s(t,{readable:!1},l);try{t.writableNeedDrain&&await d();for await(const n of e)t.write(n)||await d();r&&t.end(),await d(),n()}catch(f){n(o!==f?u(o,f):f)}finally{c(),t.off("drain",l)}}async function x(e,t,n,{end:r}){R(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,r&&await o.close(),n()}catch(i){try{await o.abort(i),n(i)}catch(i){n(i)}}}function j(...e){return W(e,l(C(e)))}function W(e,t,i){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new b("streams");const a=new I,s=a.signal,l=null===i||void 0===i?void 0:i.signal,d=[];function u(){M(new y)}let p,g;_(l,"options.signal"),null===l||void 0===l||l.addEventListener("abort",u);const w=[];let N,k=0;function C(e){M(e,0===--k)}function M(e,n){if(!e||p&&"ERR_STREAM_PREMATURE_CLOSE"!==p.code||(p=e),p||n){while(w.length)w.shift()(p);null===l||void 0===l||l.removeEventListener("abort",u),a.abort(),n&&(p||d.forEach((e=>e())),r.nextTick(t,p,g))}}for(let U=0;U<e.length;U++){const H=e[U],B=U<e.length-1,G=U>0,V=B||!1!==(null===i||void 0===i?void 0:i.end),K=U===e.length-1;if(S(H)){if(V){const{destroy:Z,cleanup:Y}=P(H,B,G);w.push(Z),v(H)&&K&&d.push(Y)}function j(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&C(e)}H.on("error",j),v(H)&&K&&d.push((()=>{H.removeListener("error",j)}))}if(0===U)if("function"===typeof H){if(N=H({signal:s}),!m(N))throw new h("Iterable, AsyncIterable or Stream","source",N)}else N=m(H)||E(H)||R(H)?H:c.from(H);else if("function"===typeof H){var W;if(R(N))N=D(null===(W=N)||void 0===W?void 0:W.readable);else N=D(N);if(N=H(N,{signal:s}),B){if(!m(N,!0))throw new h("AsyncIterable",`transform[${U-1}]`,N)}else{var F;O||(O=n(19599));const q=new O({objectMode:!0}),J=null===(F=N)||void 0===F?void 0:F.then;if("function"===typeof J)k++,J.call(N,(e=>{g=e,null!=e&&q.write(e),V&&q.end(),r.nextTick(C)}),(e=>{q.destroy(e),r.nextTick(C,e)}));else if(m(N,!0))k++,L(N,q,C,{end:V});else{if(!T(N)&&!R(N))throw new h("AsyncIterable or Promise","destination",N);{const Q=N.readable||N;k++,L(Q,q,C,{end:V})}}N=q;const{destroy:z,cleanup:X}=P(N,!1,!0);w.push(z),K&&d.push(X)}}else if(S(H)){if(E(N)){k+=2;const ee=$(N,H,C,{end:V});v(H)&&K&&d.push(ee)}else if(R(N)||T(N)){const te=N.readable||N;k++,L(te,H,C,{end:V})}else{if(!m(N))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);k++,L(N,H,C,{end:V})}N=H}else if(A(H)){if(E(N))k++,x(D(N),H,C,{end:V});else if(T(N)||m(N))k++,x(N,H,C,{end:V});else{if(!R(N))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);k++,x(N.readable,H,C,{end:V})}N=H}else N=c.from(H)}return(null!==s&&void 0!==s&&s.aborted||null!==l&&void 0!==l&&l.aborted)&&r.nextTick(u),N}function $(e,t,n,{end:o}){let i=!1;if(t.on("close",(()=>{i||n(new g)})),e.pipe(t,{end:!1}),o){function a(){i=!0,t.end()}N(e)?r.nextTick(a):e.once("end",a)}else n();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),s(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:W,pipeline:j}},83542:(e,t,n)=>{n(57658),n(30541),n(26699);const r=n(96027),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:u,SafeSet:f,SymbolAsyncIterator:h,Symbol:b}=n(19893);e.exports=$,$.ReadableState=W;const{EventEmitter:p}=n(43793),{Stream:g,prependListener:y}=n(48959),{Buffer:w}=n(15361),{addAbortSignal:_}=n(37591),m=n(55961);let v=n(63169).debuglog("stream",(e=>{v=e}));const E=n(96618),S=n(50208),{getHighWaterMark:R,getDefaultHighWaterMark:A}=n(98078),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:O,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:P}}=n(49606),{validateObject:C}=n(90384),D=b("kPaused"),{StringDecoder:M}=n(25605),L=n(81778);c($.prototype,g.prototype),c($,g);const x=()=>{},{errorOrDestroy:j}=S;function W(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(24925)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?R(this,e,"readableHighWaterMark",r):A(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new M(e.encoding),this.encoding=e.encoding)}function $(e){if(!(this instanceof $))return new $(e);const t=this instanceof n(24925);this._readableState=new W(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&_(e.signal,this)),g.call(this,e),S.construct(this,(()=>{this._readableState.needReadable&&Y(this,this._readableState)}))}function F(e,t,n,r){v("readableAddChunk",t);const o=e._readableState;let i;if(o.objectMode||("string"===typeof t?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?t=w.from(t,n).toString(o.encoding):(t=w.from(t,n),n=""))):t instanceof w?n="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),n=""):null!=t&&(i=new N("chunk",["string","Buffer","Uint8Array"],t))),i)j(e,i);else if(null===t)o.reading=!1,V(e,o);else if(o.objectMode||t&&t.length>0)if(r)if(o.endEmitted)j(e,new P);else{if(o.destroyed||o.errored)return!1;U(e,o,t,!0)}else if(o.ended)j(e,new k);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?U(e,o,t,!1):Y(e,o)):U(e,o,t,!1)}else r||(o.reading=!1,Y(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function U(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&K(e)),Y(e,t)}$.prototype.destroy=S.destroy,$.prototype._undestroy=S.undestroy,$.prototype._destroy=function(e,t){t(e)},$.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},$.prototype.push=function(e,t){return F(this,e,t,!1)},$.prototype.unshift=function(e,t){return F(this,e,t,!0)},$.prototype.isPaused=function(){const e=this._readableState;return!0===e[D]||!1===e.flowing},$.prototype.setEncoding=function(e){const t=new M(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const o of n)r+=t.write(o);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};const H=1073741824;function B(e){if(e>H)throw new O("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function G(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function V(e,t){if(v("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?K(e):(t.needReadable=!1,t.emittedReadable=!0,Z(e))}}function K(e){const t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(Z,e))}function Z(e){const t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,te(e)}function Y(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(q,e,t))}function q(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){const n=t.length;if(v("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function J(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(v("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(v("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}function z(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){v("readable nexttick read 0"),e.read(0)}function Q(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(ee,e,t))}function ee(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),te(e),t.flowing&&!t.reading&&e.read(0)}function te(e){const t=e._readableState;v("flow",t.flowing);while(t.flowing&&null!==e.read());}function ne(e,t){"function"!==typeof e.read&&(e=$.wrap(e,{objectMode:!0}));const n=re(e,t);return n.stream=e,n}async function*re(e,t){let n,r=x;function o(t){this===e?(r(),r=x):r=t}e.on("readable",o);const i=m(e,{writable:!1},(e=>{n=e?T(n,e):null,r(),r=x}));try{while(1){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(o)}}}catch(a){throw n=T(n,a),n}finally{!n&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",o),i()):S.destroyer(e,null)}}function oe(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function ie(e){const t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ae,t,e))}function ae(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(se,t);else if(e.autoDestroy){const e=t._writableState,n=!e||e.autoDestroy&&(e.finished||!1===e.writable);n&&t.destroy()}}function se(e){const t=e.writable&&!e.writableEnded&&!e.destroyed;t&&e.end()}let le;function de(){return void 0===le&&(le={}),le}$.prototype.read=function(e){v("read",e),void 0===e?e=NaN:i(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=B(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ie(this):K(this),null;if(e=G(e,t),0===e&&t.ended)return 0===t.length&&ie(this),null;let r,o=t.needReadable;if(v("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,v("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,v("reading, ended or constructing",o);else if(o){v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(a){j(this,a)}t.sync=!1,t.reading||(e=G(n,t))}return r=e>0?oe(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&ie(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},$.prototype._read=function(e){throw new I("_read()")},$.prototype.pipe=function(e,t){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(e),v("pipe count=%d opts=%j",o.pipes.length,t);const i=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,a=i?l:_;function s(e,t){v("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,u())}function l(){v("onend"),e.end()}let d;o.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);let c=!1;function u(){v("cleanup"),e.removeListener("close",g),e.removeListener("finish",w),d&&e.removeListener("drain",d),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",l),n.removeListener("end",_),n.removeListener("data",b),c=!0,d&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&d()}function h(){c||(1===o.pipes.length&&o.pipes[0]===e?(v("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(v("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),d||(d=J(n,e),e.on("drain",d))}function b(t){v("ondata");const n=e.write(t);v("dest.write",n),!1===n&&h()}function p(t){if(v("onerror",t),_(),e.removeListener("error",p),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?j(e,t):e.emit("error",t)}}function g(){e.removeListener("finish",w),_()}function w(){v("onfinish"),e.removeListener("close",g),_()}function _(){v("unpipe"),n.unpipe(e)}return n.on("data",b),y(e,"error",p),e.once("close",g),e.once("finish",w),e.emit("pipe",n),!0===e.writableNeedDrain?o.flowing&&h():o.flowing||(v("pipe resume"),n.resume()),e},$.prototype.unpipe=function(e){const t=this._readableState,n={hasUnpiped:!1};if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=o(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,n)),this},$.prototype.on=function(e,t){const n=g.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,v("on readable",o.length,o.reading),o.length?K(this):o.reading||r.nextTick(X,this))),n},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(e,t){const n=g.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(z,this),n},$.prototype.off=$.prototype.removeListener,$.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(z,this),t},$.prototype.resume=function(){const e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,Q(this,e)),e[D]=!1,this},$.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},$.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{j(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=d(e);for(let r=1;r<n.length;r++){const t=n[r];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},$.prototype[h]=function(){return ne(this)},$.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),ne(this,e)},l($.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),$._fromList=oe,$.from=function(e,t){return L($,e,t)},$.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},$.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},$.wrap=function(e,t){var n,r;return new $({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){S.destroyer(e,t),n(t)}}).wrap(e)}},98078:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:o}=n(19893),{ERR_INVALID_ARG_VALUE:i}=n(49606).codes;function a(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function s(e){return e?16:16384}function l(e,t,n,l){const d=a(t,l,n);if(null!=d){if(!o(d)||d<0){const e=l?`options.${n}`:"options.highWaterMark";throw new i(e,d)}return r(d)}return s(e.objectMode)}e.exports={getHighWaterMark:l,getDefaultHighWaterMark:s}},74642:(e,t,n)=>{"use strict";n(57658);const{ObjectSetPrototypeOf:r,Symbol:o}=n(19893);e.exports=d;const{ERR_METHOD_NOT_IMPLEMENTED:i}=n(49606).codes,a=n(24925),{getHighWaterMark:s}=n(98078);r(d.prototype,a.prototype),r(d,a);const l=o("kCallback");function d(e){if(!(this instanceof d))return new d(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function u(){this._final!==c&&c.call(this)}d.prototype._final=c,d.prototype._transform=function(e,t,n){throw new i("_transform()")},d.prototype._write=function(e,t,n){const r=this._readableState,o=this._writableState,i=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),o.ended||i===r.length||r.length<r.highWaterMark?n():this[l]=n)}))},d.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},17091:(e,t,n)=>{"use strict";const{Symbol:r,SymbolAsyncIterator:o,SymbolIterator:i,SymbolFor:a}=n(19893),s=r("kDestroyed"),l=r("kIsErrored"),d=r("kIsReadable"),c=r("kIsDisturbed"),u=a("nodejs.webstream.isClosedPromise"),f=a("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var n;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function b(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function p(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)}function g(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function y(e){return!(!e||g(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function w(e){return!(!e||g(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function _(e){return!(!e||g(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function m(e){return y(e)||w(e)||_(e)}function v(e,t){return null!=e&&(!0===t?"function"===typeof e[o]:!1===t?"function"===typeof e[i]:"function"===typeof e[o]||"function"===typeof e[i])}function E(e){if(!g(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!==r&&void 0!==r&&r.destroyed)}function S(e){if(!b(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function R(e,t){if(!b(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))}function A(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function T(e,t){if(!h(e))return null;const n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function N(e){return e&&null!=e[d]?e[d]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!E(e)&&(h(e)&&e.readable&&!T(e))}function I(e){return"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!E(e)&&(b(e)&&e.writable&&!S(e))}function O(e,t){return g(e)?!!E(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!N(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!I(e)):null}function k(e){var t,n;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null}function P(e){var t,n;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null}function C(e){if(!g(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&D(e)?e._closed:null}function D(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function M(e){return"boolean"===typeof e._sent100&&D(e)}function L(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)}function x(e){if(!g(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&M(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)}function j(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))}function W(e){var t,n,r,o,i,a,s,d,c,u;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==i?i:e.writableErrored)&&void 0!==o?o:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(d=e._writableState)||void 0===d?void 0:d.errorEmitted)&&void 0!==n?n:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(u=e._writableState)||void 0===u?void 0:u.errored))}e.exports={kDestroyed:s,isDisturbed:j,kIsDisturbed:c,isErrored:W,kIsErrored:l,isReadable:N,kIsReadable:d,kIsClosedPromise:u,kControllerErrorFunction:f,isClosed:C,isDestroyed:E,isDuplexNodeStream:p,isFinished:O,isIterable:v,isReadableNodeStream:h,isReadableStream:y,isReadableEnded:A,isReadableFinished:T,isReadableErrored:P,isNodeStream:g,isWebStream:m,isWritable:I,isWritableNodeStream:b,isWritableStream:w,isWritableEnded:S,isWritableFinished:R,isWritableErrored:k,isServerRequest:L,isServerResponse:M,willEmitClose:x,isTransformStream:_}},73317:(e,t,n)=>{n(57658);const r=n(96027),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:f}=n(19893);e.exports=M,M.WritableState=C;const{EventEmitter:h}=n(43793),b=n(48959).Stream,{Buffer:p}=n(15361),g=n(50208),{addAbortSignal:y}=n(37591),{getHighWaterMark:w,getDefaultHighWaterMark:_}=n(98078),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:N,ERR_UNKNOWN_ENCODING:I}=n(49606).codes,{errorOrDestroy:O}=g;function k(){}d(M.prototype,b.prototype),d(M,b);const P=u("kOnFinished");function C(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(24925)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",r):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!e||!1!==e.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function D(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function M(e){const t=this instanceof n(24925);if(!t&&!a(M,this))return new M(e);this._writableState=new C(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),b.call(this,e),g.construct(this,(()=>{const e=this._writableState;e.writing||B(this,e),Z(this,e)}))}function L(e,t,n,o){const i=e._writableState;if("function"===typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!p.isEncoding(n))throw new I(n)}else n=i.defaultEncoding;"function"!==typeof o&&(o=k)}if(null===t)throw new T;if(!i.objectMode)if("string"===typeof t)!1!==i.decodeStrings&&(t=p.from(t,n),n="buffer");else if(t instanceof p)n="buffer";else{if(!b._isUint8Array(t))throw new m("chunk",["string","Buffer","Uint8Array"],t);t=b._uint8ArrayToBuffer(t),n="buffer"}let a;return i.ending?a=new N:i.destroyed&&(a=new R("write")),a?(r.nextTick(o,a),O(e,a,!0),a):(i.pendingcb++,x(e,i,t,n,o))}function x(e,t,n,r,o){const i=t.objectMode?1:n.length;t.length+=i;const a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:o}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&o!==k&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}function j(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function W(e,t,n,r){--t.pendingcb,r(n),H(t),O(e,n)}function $(e,t){const n=e._writableState,o=n.sync,i=n.writecb;"function"===typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),o?r.nextTick(W,e,n,t,i):W(e,n,t,i)):(n.buffered.length>n.bufferedIndex&&B(e,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:e,state:n},r.nextTick(F,n.afterWriteTickInfo)):U(e,n,1,i))):O(e,new E)}function F({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,U(e,t,n,r)}function U(e,t,n,r){const o=!t.ending&&!e.destroyed&&0===t.length&&t.needDrain;o&&(t.needDrain=!1,e.emit("drain"));while(n-- >0)t.pendingcb--,r();t.destroyed&&H(t),Z(e,t)}function H(e){if(e.writing)return;for(let o=e.bufferedIndex;o<e.buffered.length;++o){var t;const{chunk:n,callback:r}=e.buffered[o],i=e.objectMode?1:n.length;e.length-=i,r(null!==(t=e.errored)&&void 0!==t?t:new R("write"))}const n=e[P].splice(0);for(let o=0;o<n.length;o++){var r;n[o](null!==(r=e.errored)&&void 0!==r?r:new R("end"))}D(e)}function B(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:i}=t,a=n.length-r;if(!a)return;let s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const r=t.allNoop?k:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},i=t.allNoop&&0===s?n:o(n,s);i.allBuffers=t.allBuffers,j(e,t,!0,t.length,i,"",r),D(t)}else{do{const{chunk:r,encoding:o,callback:a}=n[s];n[s++]=null;const l=i?1:r.length;j(e,t,!1,l,r,o,a)}while(s<n.length&&!t.writing);s===n.length?D(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function G(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){let n=!1;function o(o){if(n)O(e,null!==o&&void 0!==o?o:E());else if(n=!0,t.pendingcb--,o){const n=t[P].splice(0);for(let e=0;e<n.length;e++)n[e](o);O(e,o,t.sync)}else G(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(Y,e,t))}t.sync=!0,t.pendingcb++;try{e._final(o)}catch(i){o(i)}t.sync=!1}function K(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,V(e,t)))}function Z(e,t,n){G(t)&&(K(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{G(t)?Y(e,t):t.pendingcb--}),e,t)):G(t)&&(t.pendingcb++,Y(e,t))))}function Y(e,t){t.pendingcb--,t.finished=!0;const n=t[P].splice(0);for(let r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState,n=!t||t.autoDestroy&&(t.endEmitted||!1===t.readable);n&&e.destroy()}}C.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(M,f,{__proto__:null,value:function(e){return!!a(this,e)||this===M&&(e&&e._writableState instanceof C)}}),M.prototype.pipe=function(){O(this,new S)},M.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||B(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!p.isEncoding(e))throw new I(e);return this._writableState.defaultEncoding=e,this},M.prototype._write=function(e,t,n){if(!this._writev)throw new v("_write()");this._writev([{chunk:e,encoding:t}],n)},M.prototype._writev=null,M.prototype.end=function(e,t,n){const o=this._writableState;let a;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){const n=L(this,e,t);n instanceof i&&(a=n)}return o.corked&&(o.corked=1,this.uncork()),a||(o.errored||o.ending?o.finished?a=new A("end"):o.destroyed&&(a=new R("end")):(o.ending=!0,Z(this,o,!0),o.ended=!0)),"function"===typeof n&&(a||o.finished?r.nextTick(n,a):o[P].push(n)),this},l(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const q=g.destroy;let J;function z(){return void 0===J&&(J={}),J}M.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[P].length)&&r.nextTick(H,n),q.call(this,e,t),this},M.prototype._undestroy=g.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},M.fromWeb=function(e,t){return z().newStreamWritableFromWritableStream(e,t)},M.toWeb=function(e){return z().newWritableStreamFromStreamWritable(e)}},90384:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:b,StringPrototypeToUpperCase:p,StringPrototypeTrim:g}=n(19893),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:E}}=n(49606),{normalizeEncoding:S}=n(63169),{isAsyncFunction:R,isArrayBufferView:A}=n(63169).types,T={};function N(e){return e===(0|e)}function I(e){return e===e>>>0}const O=/^[0-7]+$/,k="must be a 32-bit unsigned integer or an octal string";function P(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===h(O,e))throw new m(t,e,k);e=u(e,8)}return M(e,t),e}const C=y(((e,t,n=c,r=d)=>{if("number"!==typeof e)throw new _(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),D=y(((e,t,n=-2147483648,r=2147483647)=>{if("number"!==typeof e)throw new _(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),M=y(((e,t,n=!1)=>{if("number"!==typeof e)throw new _(t,"number",e);if(!s(e))throw new v(t,"an integer",e);const r=n?1:0,o=4294967295;if(e<r||e>o)throw new v(t,`>= ${r} && <= ${o}`,e)}));function L(e,t){if("string"!==typeof e)throw new _(t,"string",e)}function x(e,t,n=void 0,r){if("number"!==typeof e)throw new _(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new v(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)}const j=y(((e,t,n)=>{if(!o(n,e)){const r=i(a(n,(e=>"string"===typeof e?`'${e}'`:b(e))),", "),o="must be one of: "+r;throw new m(t,e,o)}}));function W(e,t){if("boolean"!==typeof e)throw new _(t,"boolean",e)}function $(e,t,n){return null!=e&&f(e,t)?e[t]:n}const F=y(((e,t,n=null)=>{const o=$(n,"allowArray",!1),i=$(n,"allowFunction",!1),a=$(n,"nullable",!1);if(!a&&null===e||!o&&r(e)||"object"!==typeof e&&(!i||"function"!==typeof e))throw new _(t,"Object",e)})),U=y(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new _(t,"a dictionary",e)})),H=y(((e,t,n=0)=>{if(!r(e))throw new _(t,"Array",e);if(e.length<n){const r=`must be longer than ${n}`;throw new m(t,e,r)}}));function B(e,t){H(e,t);for(let n=0;n<e.length;n++)L(e[n],`${t}[${n}]`)}function G(e,t){H(e,t);for(let n=0;n<e.length;n++)W(e[n],`${t}[${n}]`)}function V(e,t="signal"){if(L(e,t),void 0===T[e]){if(void 0!==T[p(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}}const K=y(((e,t="buffer")=>{if(!A(e))throw new _(t,["Buffer","TypedArray","DataView"],e)}));function Z(e,t){const n=S(t),r=e.length;if("hex"===n&&r%2!==0)throw new m("encoding",t,`is invalid for data of length ${r}`)}function Y(e,t="Port",n=!0){if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new w(t,e,n);return 0|e}const q=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new _(t,"AbortSignal",e)})),J=y(((e,t)=>{if("function"!==typeof e)throw new _(t,"Function",e)})),z=y(((e,t)=>{if("function"!==typeof e||R(e))throw new _(t,"Function",e)})),X=y(((e,t)=>{if(void 0!==e)throw new _(t,"undefined",e)}));function Q(e,t,n){if(!o(n,e))throw new _(t,`('${i(n,"|")}')`,e)}const ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(e,t){if("undefined"===typeof e||!h(ee,e))throw new m(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ne(e){if("string"===typeof e)return te(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const o=e[r];te(o,"hints"),n+=o,r!==t-1&&(n+=", ")}return n}throw new m("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:N,isUint32:I,parseFileMode:P,validateArray:H,validateStringArray:B,validateBooleanArray:G,validateBoolean:W,validateBuffer:K,validateDictionary:U,validateEncoding:Z,validateFunction:J,validateInt32:D,validateInteger:C,validateNumber:x,validateObject:F,validateOneOf:j,validatePlainFunction:z,validatePort:Y,validateSignalName:V,validateString:L,validateUint32:M,validateUndefined:X,validateUnion:Q,validateAbortSignal:q,validateLinkHeaderValue:ne}},21039:(e,t,n)=>{"use strict";const r=n(62229),o=n(89587),i=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=i,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return o}}),e.exports.Stream=r.Stream,e.exports["default"]=e.exports},49606:(e,t,n)=>{"use strict";n(21703),n(9170),n(32120),n(35837),n(41817),n(74916),n(57658),n(26699);const{format:r,inspect:o,AggregateError:i}=n(63169),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function f(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function b(e,t,n){if("function"===typeof t)return f(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const o=(t.match(/%[dfijoOs]/g)||[]).length;return f(o===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${o}).`),0===n.length?t:r(t,...n)}function p(e,t,n){n||(n=Error);class r extends n{constructor(...n){super(b(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[s]=!0,u[e]=r}function g(e){const t=c+e.name;return Object.defineProperty(e,"name",{value:t}),e}function y(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new a([t,e],t.message);return n.code=t.code,n}return e||t}class w extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!==typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",((e,t,n)=>{f("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const o of t)f("string"===typeof o,"All expected entries have to be of type string"),l.includes(o)?i.push(o.toLowerCase()):d.test(o)?a.push(o):(f("object"!==o,'The value "object" should be written as "Object"'),s.push(o));if(a.length>0){const e=i.indexOf("object");-1!==e&&(i.splice(i,e,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const e=i.pop();r+=`one of type ${i.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"===typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"===typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{const e=o(n,{depth:-1});r+=`. Received ${e}`}}else{let e=o(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),p("ERR_INVALID_ARG_VALUE",((e,t,n="is invalid")=>{let r=o(t);r.length>128&&(r=r.slice(0,128)+"...");const i=e.includes(".")?"property":"argument";return`The ${i} '${e}' ${n}. Received ${r}`}),TypeError),p("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;const o=null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`}),TypeError),p("ERR_MISSING_ARGS",((...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`}),TypeError),p("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return f(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=h(String(n)):"bigint"===typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=h(r)),r+="n"):r=o(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:w,aggregateTwoErrors:g(y),hideStackFrames:g,codes:u}},19893:(e,t,n)=>{"use strict";n(26699),n(57658),n(21703),n(41817),n(81299),n(74916),n(48675),n(33105),n(63408),n(14590),n(3462),n(33824),n(23767),n(8585),n(68696),e.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Uint8Array}},63169:(e,t,n)=>{"use strict";n(35837),n(21703),n(74916),n(15306),n(38862),n(26699),n(41817);const r=n(15361),o=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,a="undefined"!==typeof i?function(e){return e instanceof i}:function(e){return!1};class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{promise:n,resolve:e,reject:t}},promisify(e){return new Promise(((t,n)=>{e(((e,...r)=>e?n(e):t(...r)))}))},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,(function(...[e,n]){const r=t.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"===typeof r){const e=r.constructor!==Object?r.constructor.name:"";return`${e} {}`.trim()}return r.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof o},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:a},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},62229:(e,t,n)=>{n(48675),n(33105),n(63408),n(14590),n(3462),n(33824),n(23767),n(8585),n(68696);const{Buffer:r}=n(15361),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=n(19893),{promisify:{custom:s}}=n(63169),{streamReturningOperators:l,promiseReturningOperators:d}=n(9208),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(49606),u=n(77280),{pipeline:f}=n(82361),{destroyer:h}=n(50208),b=n(55961),p=n(89587),g=n(17091),y=e.exports=n(48959).Stream;y.isDisturbed=g.isDisturbed,y.isErrored=g.isErrored,y.isReadable=g.isReadable,y.Readable=n(83542);for(const m of i(l)){const v=l[m];function w(...e){if(new.target)throw c();return y.Readable.from(a(v,this,e))}o(w,"name",{__proto__:null,value:v.name}),o(w,"length",{__proto__:null,value:v.length}),o(y.Readable.prototype,m,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const E of i(d)){const S=d[E];function w(...e){if(new.target)throw c();return a(S,this,e)}o(w,"name",{__proto__:null,value:S.name}),o(w,"length",{__proto__:null,value:S.length}),o(y.Readable.prototype,E,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}y.Writable=n(73317),y.Duplex=n(24925),y.Transform=n(74642),y.PassThrough=n(19599),y.pipeline=f;const{addAbortSignal:_}=n(37591);y.addAbortSignal=_,y.finished=b,y.destroy=h,y.compose=u,o(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),o(f,s,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),o(b,s,{__proto__:null,enumerable:!0,get(){return p.finished}}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},89587:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:o}=n(19893),{isIterable:i,isNodeStream:a,isWebStream:s}=n(17091),{pipelineImpl:l}=n(82361),{finished:d}=n(55961);function c(...e){return new o(((t,n)=>{let o,d;const c=e[e.length-1];if(c&&"object"===typeof c&&!a(c)&&!i(c)&&!s(c)){const t=r(e);o=t.signal,d=t.end}l(e,((e,r)=>{e?n(e):t(r)}),{signal:o,end:d})}))}n(62229),e.exports={finished:d,pipeline:c}}}]);
//# sourceMappingURL=375.b936b3d5.js.map